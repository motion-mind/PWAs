<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Ohm's Law Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Consistent body style: Black background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #e2e8f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
            box-sizing: border-box;
        }

        /* Consistent card style: White background, constrained width */
        .container-card {
            max-width: 28rem;
            width: 100%;
            background-color: #ffffff; /* White card background */
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            border: 1px solid #e5e7eb; /* Light border */
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #4a5568; /* Darker text for labels */
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background-color: #f8fafc; /* Very light background for inputs */
            border: 1px solid #cbd5e1; /* Lighter border */
            color: #475569; /* Darker text for input content */
            transition: all 0.2s ease-in-out;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #6366f1; /* Indigo focus border */
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5);
        }

        .input-group input[readonly] {
            background-color: #e5e7eb; /* Light gray for readonly */
            border-color: #d1d5db;
            cursor: not-allowed;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .button-group button {
            flex-grow: 1;
            padding: 0.75rem 1.5rem;
            font-weight: 700;
            border-radius: 0.5rem;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            border: none;
            cursor: pointer;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.25);
        }

        .calculate-btn {
            /* Matched to blue-600 in index.html */
            background-color: #2563eb;
            color: #e2e8f0;
        }

        .calculate-btn:hover {
            /* Matched to green-700 in index.html */
            background-color: #047857;
            transform: translateY(-2px);
        }

        .clear-btn {
            background-color: #e53e3e;
            color: #e2e8f0;
        }

        .clear-btn:hover {
            background-color: #c53030;
            transform: translateY(-2px);
        }

        /* Formula Display Styling */
        .formula-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            margin-bottom: 25px;
            background-color: #f1f5f9; /* Light gray background */
            border-radius: 8px;
            border: 1px solid #cbd5e1;
        }
        .formula-display p {
            font-size: 1.1em;
            font-weight: 600;
            color: #333;
            margin: 4px 0;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="container-card">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">Ohm's Law Calculator</h1>
        <p class="text-center text-sm mb-8 text-gray-500">
            Enter any two values to calculate the others.
        </p>

        <div class="formula-display">
            <p>Voltage (V): V = I × R</p>
            <p>Current (I): I = V / R</p>
            <p>Resistance (R): R = V / I</p>
            <p>Power (P): P = V × I</p>
        </div>

        <div class="input-group">
            <label for="voltage">Voltage (V)</label>
            <input type="number" id="voltage" placeholder="Enter voltage">
        </div>

        <div class="input-group">
            <label for="current">Current (I)</label>
            <input type="number" id="current" placeholder="Enter current">
        </div>

        <div class="input-group">
            <label for="resistance">Resistance (R)</label>
            <input type="number" id="resistance" placeholder="Enter resistance">
        </div>

        <div class="input-group">
            <label for="power">Power (P)</label>
            <input type="number" id="power" placeholder="Enter power">
        </div>

        <div class="button-group">
            <button id="calculateBtn" class="calculate-btn">Calculate</button>
            <button id="clearBtn" class="clear-btn">Clear</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const voltageInput = document.getElementById('voltage');
            const currentInput = document.getElementById('current');
            const resistanceInput = document.getElementById('resistance');
            const powerInput = document.getElementById('power');
            const calculateBtn = document.getElementById('calculateBtn');
            const clearBtn = document.getElementById('clearBtn');

            const inputs = [voltageInput, currentInput, resistanceInput, powerInput];

            // Function to clear all input fields
            const clearInputs = () => {
                inputs.forEach(input => {
                    input.value = '';
                    input.removeAttribute('readonly');
                });
            };

            // Custom dialog box function
            const showDialog = (message) => {
                const dialogOverlay = document.createElement('div');
                dialogOverlay.style.cssText = `
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                    background-color: rgba(0, 0, 0, 0.7); display: flex;
                    justify-content: center; align-items: center; z-index: 1000;
                `;

                const dialogBox = document.createElement('div');
                dialogBox.style.cssText = `
                    background-color: #ffffff; padding: 2rem; border-radius: 1rem;
                    max-width: 20rem; width: 90%; text-align: center;
                    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); border: 1px solid #e5e7eb;
                `;

                const dialogText = document.createElement('p');
                dialogText.textContent = message;
                dialogText.style.cssText = `
                    color: #4a5568; margin-bottom: 1.5rem; font-size: 1rem;
                `;

                const closeBtn = document.createElement('button');
                closeBtn.textContent = 'OK';
                closeBtn.style.cssText = `
                    background-color: #4299e1; color: white; padding: 0.5rem 2rem;
                    border-radius: 0.5rem; font-weight: 600; cursor: pointer;
                    transition: background-color 0.2s ease-in-out;
                `;

                closeBtn.addEventListener('click', () => {
                    document.body.removeChild(dialogOverlay);
                });

                dialogBox.appendChild(dialogText);
                dialogBox.appendChild(closeBtn);
                dialogOverlay.appendChild(dialogBox);
                document.body.appendChild(dialogOverlay);
            };

            // Function to handle the calculation
            const calculateOhm = () => {
                const V = parseFloat(voltageInput.value);
                const I = parseFloat(currentInput.value);
                const R = parseFloat(resistanceInput.value);
                const P = parseFloat(powerInput.value);

                const enteredValues = [V, I, R, P].filter(val => !isNaN(val));

                if (enteredValues.length !== 2) {
                    showDialog("Please enter exactly two values to calculate the others.");
                    return;
                }

                if (!isNaN(V) && !isNaN(I)) {
                    // V and I are known
                    resistanceInput.value = (V / I).toFixed(2);
                    powerInput.value = (V * I).toFixed(2);
                    resistanceInput.setAttribute('readonly', true);
                    powerInput.setAttribute('readonly', true);
                } else if (!isNaN(V) && !isNaN(R)) {
                    // V and R are known
                    currentInput.value = (V / R).toFixed(2);
                    powerInput.value = (V * V / R).toFixed(2);
                    currentInput.setAttribute('readonly', true);
                    powerInput.setAttribute('readonly', true);
                } else if (!isNaN(I) && !isNaN(R)) {
                    // I and R are known
                    voltageInput.value = (I * R).toFixed(2);
                    powerInput.value = (I * I * R).toFixed(2);
                    voltageInput.setAttribute('readonly', true);
                    powerInput.setAttribute('readonly', true);
                } else if (!isNaN(V) && !isNaN(P)) {
                    // V and P are known
                    currentInput.value = (P / V).toFixed(2);
                    resistanceInput.value = (V * V / P).toFixed(2);
                    currentInput.setAttribute('readonly', true);
                    resistanceInput.setAttribute('readonly', true);
                } else if (!isNaN(I) && !isNaN(P)) {
                    // I and P are known
                    voltageInput.value = (P / I).toFixed(2);
                    resistanceInput.value = (P / (I * I)).toFixed(2);
                    voltageInput.setAttribute('readonly', true);
                    resistanceInput.setAttribute('readonly', true);
                } else if (!isNaN(R) && !isNaN(P)) {
                    // R and P are known
                    voltageInput.value = Math.sqrt(P * R).toFixed(2);
                    currentInput.value = Math.sqrt(P / R).toFixed(2);
                    voltageInput.setAttribute('readonly', true);
                    currentInput.setAttribute('readonly', true);
                }
            };

            // Event listeners for the buttons
            calculateBtn.addEventListener('click', calculateOhm);
            clearBtn.addEventListener('click', clearInputs);

            // Add input event listeners to clear readonly state on change
            inputs.forEach(input => {
                input.addEventListener('input', () => {
                    inputs.forEach(otherInput => {
                        if (otherInput !== input) {
                            otherInput.removeAttribute('readonly');
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
