<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="16013128587" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="Universal control function (UCtlFnct11 / UCtlFnct12)" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="16143307019" /><meta name="next" content="6620940811" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>Universal control function (UCtlFnct11 / UCtlFnct12)</title></head><body class="schema-index content-container container" id="16013128587" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="16013128587" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649119499">Desigo Room Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649146123">Room programming library</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="7197173899">05 Desigo Room Automation Basic application functions</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="7332238603">Room segment functions</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="16143305099">Auxiliary function</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="16143307019">Universal control function [UCtlFnct]</a></li><li class="breadcrumb-item active">Universal control function (UCtlFnct11 / UCtlFnct12)</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-16013128587"><h1 id="heading-16013128587">Universal control function (UCtlFnct11 / UCtlFnct12)</h1><div class="alias"></div><div class="alias"></div><h2><span class=".index-entry" id="ID0EDWK2B"></span><span class=".index-entry" id="ID0EGWK2B"></span><span class=".index-entry" id="ID0EJWK2B"></span>Overview</h2><p>The application function "<span class="variable">Universal control function, PID controller, binary output (BO), analog output (AO)</span>" (<span class="variable">UCtlFnct11</span>/12) is a generic function designed for flexible customization. It can be configured to handle miscellaneous automation tasks.</p><p><span class="variable">UCtlFnct11</span> and <span class="variable">UCtlFnct12</span> are identical in function. Each can be configured / customized to handle a unique automation task.</p><p>Main features:</p><ul class="list"><li value="1">Loop object with multiple control input</li><li value="2">Configurable evaluation parameters for the control input</li><li value="3">Automatic enable/disable function with priority 15</li><li value="4">Protection enable/disable function with priority 5</li><li value="5">Triac control for auxiliary output functions</li><li value="6">AO and/or BO command output(s)</li><li value="7">Configurable switch-on, switch-off points for converting loop output to binary signal</li><li value="8">Configurable delay options</li></ul><h2>Function</h2><p>Inputs and outputs derive from the optional assignment of BACnet objects to collection objects. Each I/O arrangement depends on a customized configuration of the universal control function.</p><p><strong>Inputs:</strong></p><ul class="list"><li value="1">Control input: XctrCol (Collection of input to the PID controller).</li><li value="2">Binary input: AutoDetCol (Collection of automatic detector). Automatic control priority 15.</li><li value="3">Binary input: PrtDetCol (Collection of equipment protection detector). Priority 5.</li><li value="4">Binary input: LgtBtnCol (Activate a triac for auxiliary output functions, not for lighting control). Priority 13.</li></ul><p><strong>Outputs:</strong></p><ul class="list"><li value="1">Control Output: YctrCol (Collection of controller output).</li><li value="2">Binary Output: SwiCmdCol (Collection of switch command).</li></ul><p><strong>Process value objects:</strong></p><ul class="list"><li value="1">EnFnct (BPrcVal)</li><li value="2">Sp (APrcVal)</li></ul><p>The value of Enable function (EnFnct) enables/disables the binary output. The various inputs enable/disable EnFnct at priority 15 (auto detect), priority 13 (LgtBtnCol), or priority 5 (protection detect) respectively. See figure.</p><p>EnFnct is also used to enable/disable the control loop. When enabled, the control loop modulates controller output (YctrCol) to maintain controller input (XctrCol) at setpoint. The setpoint for the control loop is a process value object that can be set by commands from another device.</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/18014414536620683__Web.png" width="680" height="372" /></figure><p><strong>Legend</strong><br />The legend describes general functionality. See Configuration for additional details.</p><table class="table tabletype-framed table-fixed" aria-label="" data-legend-id="ID0EXTRWB"><colgroup><col style="width: 10.0%;"></col><col style="width: 19.9%;"></col><col style="width: 70.0%;"></col></colgroup><tbody><tr><td><p class="text-left">1</p></td><td><p class="text-left"><span class="variable">PrtDetRs</span></p></td><td><p class="text-left">BACnet object that represents the calculated result of binary input(s) used for equipment protection (Prio 5). Spare binary inputs BI(*) can be assigned to the collection object (PrtDetCol). In CET applications, the Room alarm object (RAlm, Alarm from room) can also be assigned.</p></td></tr><tr><td><p class="text-left">2</p></td><td><p class="text-left"><span class="variable">AutoDetRs</span></p></td><td><p class="text-left">BACnet object that represents the calculated result of binary input(s) used for auto detect (Prio 15). Window contacts (WndCont), presence detectors (PscDet) and spare binary inputs BI(*) can be assigned to the collection object (AutoDetCol). In CET applications, the Room alarm object (RAlm, Alarm from room) can also be assigned.</p></td></tr><tr><td><p class="text-left">3</p></td><td><p class="text-left"><span class="variable">LgtBtnCol</span></p></td><td><p class="text-left">Allows a PL-Link wall switch to be used to control a triac for auxiliary output functions. Since universal control function runs at lower priority within the DXR, do not use this triac output feature for functions requiring guaranteed response time below 300ms (e.g. Room lighting and shading control; response time can be approximately one second depending on internal processes at runtime.)</p></td></tr><tr><td><p class="text-left">4</p></td><td><p class="text-left"><span class="variable">XctrRs</span></p></td><td><p class="text-left">BACnet object that represents the calculated result of analog input(s) used in the universal control function. Supported inputs (includes KNX PL-Link):<br />TR(*) – Room temperature<br />HuRelR(*) – Room relative humidity<br />AQualR(*) – Room air quality<br />AI(*) – Spare analog inputs</p></td></tr><tr><td><p class="text-left">5</p></td><td><p class="text-left"><span class="variable">EnFnct</span></p></td><td><p class="text-left">BACnet object that uses the evaluated result of binary input(s) to enable/disable a control function.</p></td></tr><tr><td><p class="text-left">6</p></td><td><p class="text-left"><span class="variable">DlySwiCmd</span></p></td><td><p class="text-left">Configurable delay parameter, default 60 seconds.</p></td></tr><tr><td><p class="text-left">7</p></td><td><p class="text-left"><span class="variable">DlyEnCtr</span></p></td><td><p class="text-left">Configurable delay parameter, default 60 seconds.</p></td></tr><tr><td><p class="text-left">8</p></td><td><p class="text-left"><span class="variable">Sp</span></p></td><td><p class="text-left">Configurable setpoint for the loop object.</p></td></tr><tr><td><p class="text-left">9</p></td><td><p class="text-left"><span class="variable">Ctr</span></p></td><td><p class="text-left">The loop object.</p></td></tr><tr><td><p class="text-left">10</p></td><td><p class="text-left"><span class="variable">SrcSelSwiCmd</span></p></td><td><p class="text-left">The source selection parameter that selects either EnFnct signal or PID controller signal to send to the SwiCmdCol (switch command collection) object.</p></td></tr><tr><td><p class="text-left">11</p></td><td><p class="text-left"><span class="variable">SwiOnPt</span><br /><span class="variable">SwiOffPt</span></p></td><td><p class="text-left">The PID controller signal is converted from analog to binary value using configurable switch-on, switch-off points. (default 66% switch-on, 33% switch-off)</p></td></tr><tr><td><p class="text-left">12</p></td><td><p class="text-left"><span class="variable">SwiCmdCol</span></p></td><td><p class="text-left">The binary output value. Only spare binary output(s) BO(*) can be assigned to the collection object.</p></td></tr><tr><td><p class="text-left">13</p></td><td><p class="text-left"><span class="variable">YctrCol</span></p></td><td><p class="text-left">The analog output value. Only spare analog output(s) AO(*) can be assigned to the collection object.</p></td></tr></tbody></table><p> </p><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences"><strong>TR, HuRelR, and AQualR Inputs Are Always Part of Room Calculation</strong></p><p class="safety-consequence" aria-label="Consequences">These inputs, when used in the universal control function, are always linked with the room calculation. See graphic. <br />(TR inputs shown but also applies to HuRelR and AQualR)</p></div></div></section><figure class="img_original" aria-label="Fig. "><img src="../Images/png/18732829963__Web.png" width="617" height="221" /></figure><p> </p><h2>Example use cases</h2><p>Example 1: Damper end switch triggers the EnFnct to No/Yes. EnFnct activates the BO that enables the fan. After a 30 second time delay, PID loop will be enabled and will start controlling fan speed to maintain a pressure setpoint. (Delay time is configurable, default is 60 seconds.)</p><p>Example 2: Turning on/off the PID loop based on time schedule to control the bathroom temperature with a radiator.</p><h2><span class="emphasis-anchor">Configuration</span></h2><h2><img style="vertical-align: baseline;" src="../Images/png/6232165643__Web.png" /> Parameters</h2><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0EXTRWB"><colgroup><col style="width: 55.0%;"></col><col style="width: 25.0%;"></col><col style="width: 19.9%;"></col></colgroup><thead><tr><th><p class="text-left">Description</p></th><th><p class="text-left">Parameter</p></th><th><p class="text-left">Default value</p></th></tr></thead><tbody><tr><td><p class="text-left"><span class="variable">Delay for switching command</span><br />▶ Time delay for SwiCmdCol output, when source selection (SrcSelSwiCmd) is set to 0:Control mode.</p></td><td><p class="text-left"><span class="variable">DlySwiCmd</span></p></td><td><p class="text-left">60 [s]</p></td></tr><tr><td><p class="text-left"><span class="variable">Delay for enable controller</span><br />▶ Time delay for enabling/disabling the loop object.</p></td><td><p class="text-left"><span class="variable">DlyEnCtr</span></p></td><td><p class="text-left">60 [s]</p></td></tr><tr><td><p class="text-left"><span class="variable">Source selection for switching command</span><br />▶ The source selection for either EnFnct signal or controller signal.</p><p class="text-left">0:<span class="variable">Enable function</span><br />1:<span class="variable">Controller</span></p></td><td><p class="text-left"><span class="variable">SrcSelSwiCmd</span></p></td><td><p class="text-left">1:<span class="variable">Controller</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Controller action</span><br />▶ The setting for loop action output.</p><p class="text-left">0:<span class="variable">Direct</span><br />1:<span class="variable">Reverse</span></p></td><td><p class="text-left"><span class="variable">CtrActg</span></p></td><td><p class="text-left">0:<span class="variable">Direct</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Controller input evaluation</span><br />▶ The setting for how analog input(s) are evaluated (affects item #3 in signal flow graphic above).</p><p class="text-left">1:<span class="variable">Sum</span><br />2:<span class="variable">Average</span><br />3:<span class="variable">Minimum</span><br />4:<span class="variable">Maximum</span><br />5:<span class="variable">Last updated</span></p></td><td><p class="text-left"><span class="variable">XctrEvl</span></p></td><td><p class="text-left">2:<span class="variable">Average</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Automatic detector evaluation</span><br />▶ The setting for how binary input(s) are evaluated (affects item #2 in signal flow graphic above).</p><p class="text-left">1:<span class="variable">AND</span><br />2:<span class="variable">OR</span><br />3:<span class="variable">Last updated</span></p></td><td><p class="text-left"><span class="variable">AutoDetEvl</span></p></td><td><p class="text-left">2:<span class="variable">OR</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Protection detector evaluation</span><br />▶ The setting for how protection binary input(s) are evaluated (affects item #1 in signal flow graphic above).</p><p class="text-left">Enumeration see <span class="variable">Automatic detector evaluation</span></p></td><td><p class="text-left"><span class="variable">PrtDetEvl</span></p></td><td><p class="text-left">2:<span class="variable">OR</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Protection mode configuration</span><br />▶ Parameter that defines the EnFnct value at protection priority.</p><p class="text-left">0:<span class="variable">Off</span><br />1:<span class="variable">On</span></p></td><td><p class="text-left"><span class="variable">PrtModCnf</span></p></td><td><p class="text-left">0:<span class="variable">Off</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Switch-on point</span><br />▶ Loop output must be at the configured value to convert analog signal to binary "On".</p></td><td><p class="text-left"><span class="variable">SwiOnPt</span></p></td><td><p class="text-left">66 [%]</p></td></tr><tr><td><p class="text-left"><span class="variable">Switch-off point</span><br />▶ Converted analog signal will switch from On to Off when loop output falls to the configured value. </p></td><td><p class="text-left"><span class="variable">SwiOffPt</span></p></td><td><p class="text-left">33 [%]</p></td></tr></tbody></table><div class="textmodule" id="16018149515"><h2>Interface</h2><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0EALSWB"><colgroup><col style="width: 3.5%;"></col><col style="width: 18.5%;"></col><col style="width: 44.1%;"></col><col style="width: 13.0%;"></col><col style="width: 6.8%;"></col><col style="width: 13.9%;"></col></colgroup><thead><tr><th colspan="2"><p class="text-left">Interface</p></th><th><p class="text-left">Description</p></th><th><p class="text-left">Type</p></th><th><p class="text-center">Ref.</p></th><th><p class="text-left">Owned by</p></th></tr></thead><tbody><tr><td colspan="2"><p class="text-left"><span class="variable">YctrCol</span></p></td><td><p class="text-left"><span class="variable">Collection of controller output</span></p></td><td><p class="text-left">ColView</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td><p class="text-left"> </p></td><td><p class="text-left"><span class="variable">YctrRs</span></p></td><td><p class="text-left"><span class="variable">Result of controller output</span></p></td><td><p class="text-left">ACalcVal</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">XctrCol</span></p></td><td><p class="text-left"><span class="variable">Collection of controller input</span></p></td><td><p class="text-left">ColView</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td><p class="text-left"> </p></td><td><p class="text-left"><span class="variable">XctrRs</span></p></td><td><p class="text-left"><span class="variable">Result of controller input</span></p></td><td><p class="text-left">ACalcVal</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">Sp</span></p></td><td><p class="text-left"><span class="variable">Setpoint</span></p></td><td><p class="text-left">APrcVal</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">EnFnct</span></p></td><td><p class="text-left"><span class="variable">Enable function</span></p><p class="text-left">0:<span class="variable">No</span><br />1:<span class="variable">Yes</span></p></td><td><p class="text-left">BPrcVal</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">Ctr</span></p></td><td><p class="text-left"><span class="variable">Controller</span></p></td><td><p class="text-left">Controller</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">SwiCmdCol</span></p></td><td><p class="text-left"><span class="variable">Collection of switching command</span></p></td><td><p class="text-left">ColView</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td><p class="text-left"> </p></td><td><p class="text-left"><span class="variable">SwiCmdRs</span></p></td><td><p class="text-left"><span class="variable">Result of switching command</span></p><p class="text-left"> </p></td><td><p class="text-left">BCalcVal</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">AutoDetCol</span></p></td><td><p class="text-left"><span class="variable">Collection of automatic detector</span></p></td><td><p class="text-left">ColView</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td><p class="text-left"> </p></td><td><p class="text-left"><span class="variable">AutoDetRs</span></p></td><td><p class="text-left"><span class="variable">Result of automatic detector</span></p><p class="text-left">0:<span class="variable">Off</span><br />1:<span class="variable">On</span></p></td><td><p class="text-left">BCalcVal</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">PrtDetCol</span></p></td><td><p class="text-left"><span class="variable">Collection of protection detector</span></p></td><td><p class="text-left">ColView</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td><p class="text-left"> </p></td><td><p class="text-left"><span class="variable">PrtDetRs</span></p></td><td><p class="text-left"><span class="variable">Result of protection detector</span></p><p class="text-left">0:<span class="variable">Off</span><br />1:<span class="variable">On</span></p></td><td><p class="text-left">BCalcVal</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td colspan="2"><p class="text-left"><span class="variable">LgtBtnCol</span></p></td><td><p class="text-left"><span class="variable">Collection of lighting pushbutton</span></p></td><td><p class="text-left">ColView</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr><tr><td><p class="text-left"> </p></td><td><p class="text-left"><span class="variable">LgtBtn</span></p></td><td><p class="text-left"><span class="variable">Lighting pushbutton</span></p><p class="text-left">0:<span class="variable">Off</span><br />1:<span class="variable">On</span></p></td><td><p class="text-left">LgtIn</p></td><td><p class="text-center">●</p></td><td><p class="text-center">-</p></td></tr></tbody></table><div class="linklist"></div></div><div class="textmodule" id="16018169483">

<h2>Engineering and commissioning</h2>

<p><strong>Expert use (CFC programming):</strong></p>
<ul class="list"><li value="1"><span class="variable">UCtlFnct11</span>/12 used as basic structure for custom programming.</li><li value="2">Connect BACnet objects to the universal control function AF inputs to "add features" to the application (not just unrelated automation functions). The user re-addresses the input XFB(s) in the universal control function so they read temperatures, flows or other values from the application.</li><li value="3">Drive BACnet objects in the existing application. To do this successfully, the user must pay attention to the priority of the pre-programmed commands and those added to the same objects.</li></ul>
<div class="linklist"></div></div><div class="image"></div><div class="image"></div><div class="image"></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>