<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="20478472075" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="[HExg21] Heat exchanger, temperature-controlled, with primary valve and secondary pump" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="20278416267" /><meta name="next" content="20478194571" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>[HExg21] Heat exchanger, temperature-controlled, with primary valve and secondary pump</title></head><body class="schema-index content-container container" id="20478472075" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="20478472075" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649105803">Desigo Primary Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="15246172939">Programming library</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="14872378507">Program blocks</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="20617078283">Heating equipment</a></li><li class="breadcrumb-item active">[HExg21] Heat exchanger, temperature-controlled, with primary valve and secondary pump</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-20478472075"><h1 id="heading-20478472075">[HExg21] Heat exchanger, temperature-controlled, with primary valve and secondary pump</h1><div class="alias"></div><p><strong>Program block, name / node subtype:</strong> [<span class="variable">HExg21</span>] <span class="variable">Heat exchanger, temperature-controlled, with primary valve and secondary pump</span></p><p><strong>Library hierarchy:</strong> <span class="variable">Heating equipment</span></p><p><strong>Family:</strong> <a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html#20373520395">HGen</a></p><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0E2ZRV"><colgroup><col style="width: 35%;"></col><col style="width: 65%;"></col></colgroup><thead><tr><th><p class="text-left">Project tree</p></th><th><p class="text-left">Diagram</p></th></tr></thead><tbody><tr><td> 
<p class="text-left"><img style="vertical-align: baseline;" src="../Images/png/9007219800400523__en__Web.png" /></p></td><td><p class="text-left"><img style="vertical-align: baseline;" src="../Images/png/20542689291__Web.png" /></p></td></tr></tbody></table><p><strong>Configurator</strong></p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/28282141835__en__Web.png" width="853" height="549" /></figure><div class="textmodule" id="23093374859">
<section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">Program blocks are stored in the library without I/Os. Use the <a class="schema-iframe-link" data-node-id="22334247179" id="schema-linklist-link22334247179" href="22334247179.html">auto-create and auto-connect</a> functions to create I/Os and/or to connect them to the interface blocks, e.g., R_A, CMD_B. Alternatively, take the I/Os from the folder containing the predefined I/Os in the library and/or from the plant and connect them to the interface blocks.</p></div></div></section><div class="linklist"><a class="schema-iframe-link" data-node-id="22334247179" id="schema-linklist-link22334247179" href="22334247179.html"></a></div></div><div class="textmodule" id="27945152523"><a class="card" href="#collapse27945152523" data-bs-toggle="collapse" data-bs-entries="">Function</a><div class="collapse" id="collapse27945152523"><div class="metalist"></div><p>Controls a heat exchanger.</p><p>A PID controller compares the present secondary flow temperature setpoint (PrSpTFlSec) with the secondary flow temperature and changes the position of a primary valve (Vlv24).</p><p>The program has settings for the nominal power of the heat exchanger and for the transient state times (a signal that the heat exchanger is in a transient state that blocks the logic for generating further step-up and step-down pulses for the power control and compensation) when switching on or off (e.g., 5 minutes when switching on and 2 minutes when switching off).</p><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">The switch-on and switch-off sequence for the valves and the pump are defined in the function block CMDSEQ_B.</p></div></div></section><div class="textmodule" id="27216919179">
<p>This program block has the following optional functions:</p></div><p><strong>Option: Primary shutoff valve (1xBO, 2xBI)</strong><strong></strong></p><p>Controls a shutoff valve that opens when the heat exchanger is running (Vlv21).</p><p><strong>Option: Pump (1xBO, 4xBI)</strong></p><p>Controls a pump (Pu21). Different alternatives are possible, e.g., TwnPu21.</p><p>The pump runs when the heat exchanger is running, and the optional shutoff valve is open.</p><p><strong>Option: Secondary shutoff valve (1xBO, 2xBI)</strong><strong></strong></p><p>Controls a shutoff valve that opens when the heat exchanger is running (Vlv21).</p><p><strong>Option: Difference primary and secondary return temperatures (DRT)</strong></p><p>A PID controller compares the difference between the primary and secondary flow temperatures to a given setpoint, e.g., 10 K, and limits the maximum controller output of the flow temperature controller to prevent too large a difference between the two temperatures (especially during start-up).</p><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">This option can only be applied successfully together with the optional primary return temperature and the secondary return temperature.</p></div></div></section><p><strong>Option: Frost protection</strong></p><p>If any temperature around the heat exchanger falls below a certain value, e.g., 8 °C, the secondary shutoff valve opens and the pump starts to ensure water circulation.</p><p>If the temperatures fall further, e.g., to 5 °C, the operating mode switches to "On".</p><div class="textmodule" id="28408128139">
<p><strong>Option: Keep valves open and pump running for specified time on overtemperature</strong></p> 
<p>In case of overtemperature, the shutoff valve is kept open and the pump continues to run for a specified time, e.g., 2 minutes.</p></div><p><strong>Option: Maximum primary return temperature limitation</strong></p><p>A PID controller compares the primary return temperatures to a setpoint dependent on the outdoor temperature, e.g., 70 °C at -20 °C and 50 °C at 20 °C, and limits the maximum controller output of the flow temperature controller.</p><p>You can set the maximum limit setpoint in a CHAR_LIN.</p><p><strong>Option: Overtemperature detector (1xBI)</strong></p><p>Reads the signal from an overtemperature detector and generates an alarm.</p><p>The program logic stops the heat exchanger. When the option "Keep valves open and pump running for specified time on overtemperature" is active, the pump stops and the shutoff valve closes with a delay. Otherwise, the pump stops and the shutoff valve closes immediately.</p><p><strong>Option: Primary flow temperature (1xAI)</strong></p><p>Creates an analog input for the primary flow temperature and reads its signal. It can generate an alarm (high and low limit).</p><p><strong>Option: Primary return temperature (1xAI)</strong></p><p>Creates an analog input for the primary return temperature and reads its signal. It can generate an alarm (high and low limit).</p><p><strong>Option: Safety temperature limiter (1xBI)</strong></p><p>Reads the signal from a safety temperature limiter and generates an alarm.</p><p>The program logic stops the heat exchanger. When the option "Keep valves open and pump running for specified time on overtemperature" is active, the pump stops and the shutoff valve closes with a delay. Otherwise, the pump stops and the shutoff valve closes immediately.</p><p><strong>Option: Secondary return temperature (1xAI)</strong></p><p>Creates an analog input for the primary return temperature and reads its signal. It can generate an alarm (high and low limit).</p><p><strong>Option: Setpoint shift with external signal for operating mode "Fixed"</strong></p><p>The heat exchanger has an operating mode "Fixed". The operating mode "Fixed" comes after the mode "On". It ensures that this heat exchanger stays at its nominal power and that another energy generator that has been switched on after it is modulating maintains the main flow temperature.</p><p>A PID controller in another program block (HGenCtl22) compares the main flow temperature to its setpoint and, in case of a deviation, increases its output (in %). The heat exchanger can read this signal and if its operating mode is "Fixed", it results in a local setpoint increase, e.g., 0-100 % increases the setpoint of the heat exchanger by 0-3 K). This keeps the heat exchanger at its nominal power and prevents its modulation.</p><div class="linklist"><a class="schema-iframe-link" data-node-id="20478472075" id="schema-linklist-link20478472075" href="20478472075.html#27216919179"></a><a class="schema-iframe-link" data-node-id="20478472075" id="schema-linklist-link20478472075" href="20478472075.html#28408128139"></a></div></div></div><div class="textmodule" id="20478644491"><a class="card" href="#collapse20478644491" data-bs-toggle="collapse" data-bs-entries="">Mandatory elements</a><div class="collapse" id="collapse20478644491"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0ENISV"><colgroup><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col></colgroup><thead><tr><th><p class="text-left">Name</p></th><th><p class="text-left">Description</p></th><th colspan="2"><p class="text-left">Type</p></th><th><p class="text-left">Alarm / Notification class</p></th><th><p class="text-left">Trend / Type</p></th></tr></thead><tbody><tr><td><p class="text-left"><span class="variable">Vlv</span> (<span class="variable">Prim</span>)</p></td><td><p class="text-left"><span class="variable">Valve</span></p></td><td colspan="2"><p class="text-left"><a class="schema-iframe-link" data-node-id="20279232139" id="schema-linklist-link20279232139" href="20279232139.html">[Vlv24] Valve, modulating control &amp; position feedback</a></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">TCtr</span></p></td><td><p class="text-left"><span class="variable">Temperature controller</span></p></td><td colspan="2"><p class="text-left"><span class="variable">Ctr</span>: <span class="variable">Controller</span></p></td><td><p class="text-left">No</p></td><td><p class="text-left">No</p></td></tr><tr><td><p class="text-left"><span class="variable">TFlSec</span></p></td><td><p class="text-left"><span class="variable">Secondary flow temperature</span></p></td><td colspan="2"><p class="text-left">AI: Analog input</p></td><td><p class="text-left">Yes, 4</p></td><td><p class="text-left">Yes, 2</p></td></tr><tr><td><p class="text-left"><span class="variable">PrSpTFlSec</span></p></td><td><p class="text-left"><span class="variable">Present secondary flow temperature setpoint</span></p></td><td colspan="2"><p class="text-left"><span class="variable">ACalcVal</span>: <span class="variable">Analog calculated value</span></p></td><td><p class="text-left">No</p></td><td><p class="text-left">No</p></td></tr></tbody></table><div class="textmodule" id="20313090571">
<p><strong>See also</strong></p> 
<ul class="list"><li value="1"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html">Predefined I/Os</a></li><li value="2"><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html">Trend types</a></li><li value="3"><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html">Module families</a></li></ul><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20478472075" id="schema-linklist-link20478472075" href="20478472075.html#20313090571"></a><a class="schema-iframe-link" data-node-id="20279232139" id="schema-linklist-link20279232139" href="20279232139.html"></a></div></div></div><div class="textmodule" id="20478658187"><a class="card" href="#collapse20478658187" data-bs-toggle="collapse" data-bs-entries="">Optional elements</a><div class="collapse" id="collapse20478658187"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0ELTSV"><colgroup><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col></colgroup><thead><tr><th><p class="text-left">Name</p></th><th><p class="text-left">Description</p></th><th colspan="2"><p class="text-left">Type</p></th><th><p class="text-left">Alarm / Notification class</p></th><th><p class="text-left">Trend / Type</p></th></tr></thead><tbody><tr><td>
<p class="text-left"><span class="variable">SftyTLm</span></p></td><td><p class="text-left"><span class="variable">Safety temperature limiter</span></p></td><td colspan="2"><p class="text-left">BI: Binary input</p></td><td><p class="text-left">Yes, 5</p></td><td><p class="text-left">No</p></td></tr><tr><td><p class="text-left"><span class="variable">OvrTDet</span></p></td><td><p class="text-left"><span class="variable">Overtemperature detector</span></p></td><td colspan="2"><p class="text-left">BI: Binary input</p></td><td><p class="text-left">Yes, 4</p></td><td><p class="text-left">No</p></td></tr><tr><td><p class="text-left"><span class="variable">VlvShof</span> (<span class="variable">Prim</span>)</p></td><td><p class="text-left"><span class="variable">Shutoff valve</span></p></td><td colspan="2"><p class="text-left"><a class="schema-iframe-link" data-node-id="20279181835" id="schema-linklist-link20279181835" href="20279181835.html">[Vlv21] Valve, open/close function &amp; 2 BI for feedback</a></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">Pu</span></p></td><td><p class="text-left"><span class="variable">Pump</span></p></td><td colspan="2"><p class="text-left"><a class="schema-iframe-link" data-node-id="20278917515" id="schema-linklist-link20278917515" href="20278917515.html">[Pu21] Pump, 1-speed</a></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">VlvShof</span> (<span class="variable">Sec</span>)</p></td><td><p class="text-left"><span class="variable">Shutoff valve</span></p></td><td colspan="2"><p class="text-left"><a class="schema-iframe-link" data-node-id="20279181835" id="schema-linklist-link20279181835" href="20279181835.html">[Vlv21] Valve, open/close function &amp; 2 BI for feedback</a></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">TRtPrim</span></p></td><td><p class="text-left"><span class="variable">Primary return temperature</span></p></td><td colspan="2"><p class="text-left">AI: Analog input</p></td><td><p class="text-left">No</p></td><td><p class="text-left">Yes, 2</p></td></tr><tr><td><p class="text-left"><span class="variable">TRtSec</span></p></td><td><p class="text-left"><span class="variable">Secondary return temperature</span></p></td><td colspan="2"><p class="text-left">AI: Analog input</p></td><td><p class="text-left">No</p></td><td><p class="text-left">Yes, 2</p></td></tr><tr><td><p class="text-left"><span class="variable">TFlSec</span></p></td><td><p class="text-left"><span class="variable">Secondary flow temperature</span></p></td><td colspan="2"><p class="text-left">AI: Analog input</p></td><td><p class="text-left">Yes, 4</p></td><td><p class="text-left">Yes, 2</p></td></tr><tr><td><p class="text-left"><span class="variable">TFlPrim</span></p></td><td><p class="text-left"><span class="variable">Primary flow temperature</span></p></td><td colspan="2"><p class="text-left">AI: Analog input</p></td><td><p class="text-left">No</p></td><td><p class="text-left">Yes, 2</p></td></tr><tr><td><p class="text-left"><span class="variable">FrPrt</span></p></td><td><p class="text-left"><span class="variable">Frost protection</span></p></td><td colspan="2"><p class="text-left">BI: Binary input</p></td><td><p class="text-left">Yes, 5</p></td><td><p class="text-left">No</p></td></tr></tbody></table><div class="textmodule" id="20313090571">
<p><strong>See also</strong></p> 
<ul class="list"><li value="1"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html">Predefined I/Os</a></li><li value="2"><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html">Trend types</a></li><li value="3"><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html">Module families</a></li></ul><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20478472075" id="schema-linklist-link20478472075" href="20478472075.html#20313090571"></a><a class="schema-iframe-link" data-node-id="20279181835" id="schema-linklist-link20279181835" href="20279181835.html"></a><a class="schema-iframe-link" data-node-id="20278917515" id="schema-linklist-link20278917515" href="20278917515.html"></a></div></div></div><div class="textmodule" id="20478671115"><a class="card" href="#collapse20478671115" data-bs-toggle="collapse" data-bs-entries="">Further options</a><div class="collapse" id="collapse20478671115"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0EGDTV"><colgroup><col style="width: 100%;"></col></colgroup><thead><tr><th><p class="text-left">Description</p></th></tr></thead><tbody><tr><td><p class="text-left"><span class="variable">Setpoint shift with external signal for operating mode "Fixed"</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Keep valves open and pump running for a specified time on overtemperature</span></p></td></tr><tr><td><p class="text-left">Primary return temperature maximum limitation</p></td></tr><tr><td><p class="text-left">Difference of primary/secondary return temperatures limitation (DRT)</p></td></tr></tbody></table><div class="linklist"></div></div></div><div class="image"></div><div class="image"></div><div class="image"></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>