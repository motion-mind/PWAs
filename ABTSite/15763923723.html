<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="15763923723" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="Creating staged controls" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="14941164427" /><meta name="next" content="16590180875" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>Creating staged controls</title></head><body class="schema-index content-container container" id="15763923723" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="15763923723" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649105803">Desigo Primary Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="14772029451">Programming basics</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="15075293323">Functions and workflows</a></li><li class="breadcrumb-item active">Creating staged controls</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-15763923723"><h1 id="heading-15763923723">Creating staged controls</h1><p>Modulating control of the output blocks is included in each of the predefined controls.</p><p>Predefined plants must be adapted to use staged control on plant components.</p><p>There are two ways to form the stages.</p><ul class="list"><li value="1">Controller-internal stage formation</li><li value="2">Controller-external stage formation</li></ul><div class="textmodule" id="16690711051"><a class="card" href="#collapse16690711051" data-bs-toggle="collapse" data-bs-entries="">Controller-internal stage formation</a><div class="collapse" id="collapse16690711051"><div class="metalist"></div><p>The <a class="schema-iframe-link" data-node-id="14823941131" id="schema-linklist-link14823941131" href="14823941131.html">CTR</a> controller can convert the modulating output signal internally to an on / off signal or to stages.</p><p>The following are possible:</p><ul class="list"><li value="1">2-position control (on / off)</li><li value="2">Stage control</li></ul><p><strong>2-postion control</strong></p><p>2-position control is formed internally on the controller by setting the following control parameter:</p><ul class="list"><li value="1">[CtrMod] Control mode = '2-position control'</li></ul><p>The switching points are configured by hysteresis [HysSwiOn] and [HysSwiOff] and control action [Actg].</p><p><strong>Stage control</strong></p><p>The controller-internal stage is formed by setting the following controller parameters:</p><ul class="list"><li value="1">[CtrMod] = 'Modulating' </li><li value="2">[CtrTyp] = 'Stage control'</li><li value="3">[NumSts] (Number of stages) = 'X' (desired number of stages)</li></ul><p>The control range of 100 [%] is linear distributed among the desired number of stages. For example, X = 4 stages have switching points at 25 [%], 50 [%], 75 [%] and 100 [%].</p><p>Stage formation is visible on BACnet.</p><p>The switching points cannot be freely selected, rather they are distributed linearly over 100/X.</p><div class="linklist"><a class="schema-iframe-link" data-node-id="14823941131" id="schema-linklist-link14823941131" href="14823941131.html"></a></div></div></div><div class="textmodule" id="16690712075"><a class="card" href="#collapse16690712075" data-bs-toggle="collapse" data-bs-entries="">Controller-external stage formation</a><div class="collapse" id="collapse16690712075"><div class="metalist"></div><p>For controller-external stages are formed by setting the controller parameters as modulating PID controllers:</p><ul class="list"><li value="1">[CtrMod] = 'Modulating' </li><li value="2">[CtrTyp] = 'PID' (default value)</li></ul><p>The controller provides a modulating signal (e.g. 0...100%). The signal is converted controller external to a staged signal.</p><p>The switching points are freely selectable, e.g. switching point for stage 3 at 65 [%].</p><p>Stage formation is not visible on BACnet.</p><p>The following changes are necessary:</p><ul class="list"><li value="1">Conversion of an output signal of the controller function block (0...100%) to a staged output signal. This occurs for a single-stage signal (on/off) via function block <a class="schema-iframe-link" data-node-id="14823183499" id="schema-linklist-link14823183499" href="14823183499.html">CMP_R</a> and for a 4-stage signal via function block <a class="schema-iframe-link" data-node-id="14823939211" id="schema-linklist-link14823939211" href="14823939211.html">CONT_4ST</a>.</li><li value="2">As an output block, use either a binary output block <a class="schema-iframe-link" data-node-id="15426112267" id="schema-linklist-link15426112267" href="15426112267.html">CMD_B</a> or multistate output block <a class="schema-iframe-link" data-node-id="15426172939" id="schema-linklist-link15426172939" href="15426172939.html">CMD_M</a> accordingly.</li></ul><div class="linklist"><a class="schema-iframe-link" data-node-id="14823183499" id="schema-linklist-link14823183499" href="14823183499.html"></a><a class="schema-iframe-link" data-node-id="14823939211" id="schema-linklist-link14823939211" href="14823939211.html"></a><a class="schema-iframe-link" data-node-id="15426112267" id="schema-linklist-link15426112267" href="15426112267.html"></a><a class="schema-iframe-link" data-node-id="15426172939" id="schema-linklist-link15426172939" href="15426172939.html"></a></div></div></div><div class="textmodule" id="16690713099"><a class="card" href="#collapse16690713099" data-bs-toggle="collapse" data-bs-entries=""><strong>Example: Starting point with modulating control (0...100%) of a plant component</strong></a><div class="collapse" id="collapse16690713099"><div class="metalist"></div><p>In the plant examples, the plant components are commanded as per the output signal of the controller CTR via analog output block CMD_A from 0...100 [%].</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/15900450699__Web.png" width="1415" height="321" /></figure><div class="image"></div><div class="linklist"></div></div></div><div class="textmodule" id="16690714123"><a class="card" href="#collapse16690714123" data-bs-toggle="collapse" data-bs-entries="">Example: Single-stage 'On'/'Off' with controller-internal stage formation</a><div class="collapse" id="collapse16690714123"><div class="metalist"></div><p>Function block CMP_R receives the analog signal from CTR for the stages (0 [%] , 100 [%]) and converts the signal to a corresponding binary signal 0/1. </p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/15900453515__Web.png" width="1418" height="307" /></figure><div class="image"></div><div class="linklist"></div></div></div><div class="textmodule" id="16690715147"><a class="card" href="#collapse16690715147" data-bs-toggle="collapse" data-bs-entries="">Example: 4-stage control with controller-internal stage formation</a><div class="collapse" id="collapse16690715147"><div class="metalist"></div><p>Function block CONT_4ST includes the analog signal from CTR for the stages (e.g. for stages 0, 25, 50, 75, 100 [%]) and converts it to a corresponding enumeration 1...5:</p><ul class="list"><li value="1">1 = Off</li><li value="2">2...5 = Stage 1...4</li></ul><p>The setting must be 1 on input [Ofs], otherwise enumeration 0...4 is sent. Output block CMD_M was interpreted as false.</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/15900456331__Web.png" width="1407" height="238" /></figure><div class="image"></div><div class="linklist"></div></div></div><div class="textmodule" id="16690754571"><a class="card" href="#collapse16690754571" data-bs-toggle="collapse" data-bs-entries="">Example: 4-stage control with controller-external stage formation</a><div class="collapse" id="collapse16690754571"><div class="metalist"></div><p>Function block CONT_4ST includes the modulating signal from CTR (0-100 [%]). The analog signal is converted as per the settings at CONT_4ST (e.g. 5, 35, 65, 95 [%]) to enumeration 1...5 and sent to output block CMD_M.</p><p>The setting must be 1 on input [Ofs], otherwise enumeration 0...4 is sent. Output block CMD_M was interpreted as false.</p><ul class="list"><li value="1">At an input value below 5 [%], CONT_4ST sends enumeration 1. <br />The plant component is switched off.</li><li value="2">At an input value as of 5 [%], CONT_4ST sends enumeration 2.<br />The first stage of the plant component is switched on.</li><li value="3">At an input value as of 35 [%], CONT_4ST sends enumeration 3.<br />The second stage of the plant component is switched on.</li><li value="4">At an input value as of 65 [%], CONT_4ST sends enumeration 4.<br />The third stage of the plant component is switched on.</li><li value="5">At an input value as of 95 [%], CONT_4ST sends enumeration 5.<br />The fourth stage of the plant component is switched on.</li></ul><p>The corresponding stage is switched off once again if the input value drops below the given stage by the set hysteresis [%].</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/16514808075__Web.png" width="1415" height="232" /></figure><div class="image"></div><div class="linklist"></div></div></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>