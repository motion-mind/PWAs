<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="25678611211" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="[PWR_CMP] Power control and compensation" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="26937719435" /><meta name="next" content="15426263947" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>[PWR_CMP] Power control and compensation</title></head><body class="schema-index content-container container" id="25678611211" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="25678611211" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649105803">Desigo Primary Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="15246172939">Programming library</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="14096341515">Function blocks</a></li><li class="breadcrumb-item active">[PWR_CMP] Power control and compensation</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-25678611211"><h1 id="heading-25678611211">[PWR_CMP] Power control and compensation</h1><div class="alias"></div><div class="textmodule" id="25680237451"><div class="metalist"></div> 
<p>Function block PWR_CMP receives the request from "Step up/down" for more or less power as a result of the pulse "Step up" or "Step down".</p></div><div class="textmodule" id="25680238347"><div class="metalist"></div> 
<p>PWR_CMP receives the request from "Step up/down" for more or less power as a result of the pulse "Step up" or "Step down". This request immediately changes the current step and triggers a change to the next or previous row in the profile table.</p></div><div class="textmodule" id="25680239243"><a class="card" href="#collapse25680239243" data-bs-toggle="collapse" data-bs-entries="">Functioning</a><div class="collapse" id="collapse25680239243"><div class="metalist"></div><p>PWR_CMP receives the request from "Step up/down" for more or less power as a result of the pulse "Step up" or "Step down". This request immediately changes the current step and triggers a change to the next or previous row in the "profile table".</p><p>Power compensation then checks whether the change in the row of the "profile table" resulted in the desired increase or reduction to the currently generated Step output. Power compensation receives the feedback on the power currently produced by the heat generators on input [PwrCap] and compares it with the value in internal memory [PrPwrCap].</p><p>In the event of not getting the desired result, power control changes the row until the desired increase or reduction to current power is reached within a delay period of 4seconds.</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/25741149579__Web.png" width="714" height="486" /></figure><table class="table tabletype-noframe table-fixed" aria-label="" data-legend-id="ID0EHMKCB"><colgroup><col style="width: 20%;"></col><col style="width: 80%;"></col></colgroup><tbody><tr><td><p class="text-left">1</p></td><td><p class="text-left">Step up/down</p></td></tr><tr><td><p class="text-left">2</p></td><td><p class="text-left">Power control and compensation</p></td></tr><tr><td><p class="text-left">3</p></td><td><p class="text-left">Profile table</p></td></tr><tr><td><p class="text-left">4</p></td><td><p class="text-left">Heat generation</p></td></tr><tr><td><p class="text-left">Bo1...Bo3</p></td><td><p class="text-left">Heat generator 1...3</p></td></tr><tr><td><p class="text-left">SetTgtPwr</p></td><td><p class="text-left">Set target power</p></td></tr><tr><td><p class="text-left">TrgCmp</p></td><td><p class="text-left">Power compensation trigger</p></td></tr><tr><td><p class="text-left">EnCmpLack</p></td><td><p class="text-left">Enable automatic power compensation in the event of loss</p></td></tr><tr><td><p class="text-left">EnCmpExcs</p></td><td><p class="text-left">Enable automatic power compensation in the event of gain</p></td></tr><tr><td><p class="text-left">PwrCap</p></td><td><p class="text-left">Power capability of the boiler</p></td></tr><tr><td><p class="text-left">SpTMnFl</p></td><td><p class="text-left">Setpoint for main flow temperature </p></td></tr></tbody></table><p><strong>Use of internal memory</strong></p><p>The internal memory is used by the function block PWR_CMP to correct deviations from the planned increase or reduction.</p><ul class="list"><li value="1">Increase the internal memory for Step up:<br />The internal memory is increased for Step up by 1 [kW]. At the same time, it changes to the next row in the profile table. The power of the switched-on heat generator [PwrCap] is sent back to PWR_CMP. If the power is higher than the value in memory, the current row in the profile table is retained and the value from [PwrCap] is written to internal memory [PrPwrCap]. If the power is still lower than the value in memory, it switches to the next row in the profile table until the power is higher than the value in memory.</li><li value="2">Reduce the internal memory for Step down:<br />The memory is reduced for Step down by 1 [kW]. At the same time, it changes to the previous row in the profile table. The power of the switched-on heat generator [PwrCap] is sent back to "power control and compensation". If the power is lower than the value in memory, the current row in the profile table is retained and the value from [PwrCap] is written to internal memory [PrPwrCap]. If the power is still higher than the value in memory, it is switched to the next row in the profile table until the power is lower than the value in memory.</li></ul><p><strong>Detailed workflow using the example for "Step up"</strong></p><ol class="list"><li value="1">Power control and compensation receives an impulse "Step up" on input [StepUp] from "Step up/down". </li><li value="2">Power control and compensation sends a command to the profile table to change to the next row.</li><li class="list-indent-1">The stage is started for the heat generator as defined in this row.</li><li value="3">As a result, power control receives feedback on input [PwrCap] on the new, current power produced by the heat generator. <br />It remains on this row if the value of the newly reported, currently produced power is greater than the value in memory. <br /></li></ol><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">This is generally true as long as the heat generator is not in fault. Power control and compensation changes to the next row in the profile table if the new, currently produced power remains unchanged. The workflow is repeated until the reported, currently produced power is greater than the value in memory. As soon as this is the case, the reported currently produced power is saved again and displayed as the currently produced power on output [PrPwrCap].</p></div></div></section><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">Profile table SELP_8MS can transmit the last row with a valid entry via its output [PrRowMax]. "Power control and compensation" receives this value on input [MaxPos] and determines the row to which continued switching is permitted.</p></div></div></section><p>Technical implementation:</p><ol class="list"><li value="1">[PwrCap] and [PrPwrCap] are compared in cycles, at a cycle period of 4 [s].</li><li value="2">[PrPwrCap] in the internal program logic is increased for an impulse "Step up" by 1 [kW].</li><li value="3">The logic demands more power due to the resultant imbalance between [PwrCap] and [PrPwrCap]. <br />At a cycle duration of 4 [s], it sends a "Step up" impulse until [PwrCap] is greater than [PrPwrCap]. </li><li value="4">The system is once again in balance and [PwrCap] is written to the internal memory as [PrPwrCap].</li></ol><p><strong>Auxiliary functions</strong></p><p>The following auxiliary functions can be activated or inactivated:</p><ul class="list"><li value="1">Request for target power: <br />An impulse on input [SetTgtPwr] deploys the function to the power specified on input [TgtPwr]. <br />The power on [TgtPwr] is saved and steps are initiated in the profile table until the value on [PwrCap] is greater than or equal to.</li><li value="2">Forced compensation: <br />A pulse on input [TrgCmp] restores the original power on [PrPwrCap] in sequential steps, e.g. due to a loss of a heat generator caused by a fault and if no [EnCmpLack] was enabled.</li><li value="3">Automatic power compensation in the event of a power shortage [EnCmpLack]: <br />Power shortage is detected based on input [PwrCap] and balanced by sequential steps, e.g. due to a loss of a heat generator caused by a fault.</li><li value="4">Automatic power compensation in the event of a power excess [EnCmpExcs]: <br />Power gain is detected based on input [PwrCap] and balanced by sequential steps, e.g. due to manually switching on a heat generator.</li></ul><p><strong>Interfaces</strong></p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/25703996939__Web.png" width="207" height="189" /></figure><div class="image"></div><div class="image"></div><div class="linklist"></div></div></div><div class="textmodule" id="25680246155"><a class="card" href="#collapse25680246155" data-bs-toggle="collapse" data-bs-entries="">Pins</a><div class="collapse" id="collapse25680246155"><div class="metalist"></div><table class="table tabletype-header table-fixed" id="9007214841301259" aria-label="" data-legend-id="ID0EPWKCB"><colgroup><col style="width: 17.4%;"></col><col style="width: 52.1%;"></col><col style="width: 12.4%;"></col><col style="width: 17.9%;"></col></colgroup><thead><tr><th><p class="text-left">Input</p></th><th><p class="text-left">Description</p></th><th><p class="text-left">Data type</p></th><th><p class="text-left">Default value<br />Value range</p></th></tr></thead><tbody><tr><td id="16643585675"><p class="text-left"><span class="variable">EnFnct</span></p></td><td><p class="text-left"><span class="variable">Enable function</span></p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td id="16032409483"><p class="text-left"><span class="variable">StepUp</span></p></td><td><p class="text-left"><span class="variable">Step up</span></p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td id="16032407947"><p class="text-left"><span class="variable">StepDn</span></p></td><td><p class="text-left"><span class="variable">Step down</span></p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td id="16638448395"><p class="text-left">PwrCap</p></td><td><p class="text-left">Power capability of the boiler</p></td><td><p class="text-left">Real</p></td><td><p class="text-left">0 [kW]</p></td></tr><tr><td id="16640566923"><p class="text-left">SetTgtPwr</p></td><td><p class="text-left">Set target power</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td id="16640573451">
<p class="text-left">TgtPwr</p></td><td><p class="text-left">Power target after trigger (Set target power)</p></td><td><p class="text-left">Real</p></td><td><p class="text-left">0 [kW]</p></td></tr><tr><td id="16640720779">
<p class="text-left">TrgCmp</p></td><td><p class="text-left">Power compensation trigger (If lack or excess it will compensate)</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td id="16640740363"><p class="text-left">StepMax</p></td><td><p class="text-left">Maximum possible stage in profile</p></td><td><p class="text-left">Multistate</p></td><td><p class="text-left">4</p></td></tr><tr><td id="25703991179"><p class="text-left">EnCmpLack</p></td><td><p class="text-left">Enable automatic power compensation in the event of loss</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">1</p></td></tr><tr><td id="25703992715"><p class="text-left">EnCmpExcs</p></td><td><p class="text-left">Enable automatic power compensation in the event of gain</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr></tbody></table><p> </p><table class="table tabletype-header table-fixed" id="9007214915515019" aria-label="" data-legend-id="ID0EPWKCB"><colgroup><col style="width: 17.4%;"></col><col style="width: 52.1%;"></col><col style="width: 12.4%;"></col><col style="width: 17.9%;"></col></colgroup><thead><tr><th><p class="text-left">Output</p></th><th><p class="text-left">Description</p></th><th><p class="text-left">Data type</p></th><th><p class="text-left">Default value<br />Value range</p></th></tr></thead><tbody><tr><td id="16640746891">
<p class="text-left">Step</p></td><td><p class="text-left">Power stage (current)</p></td><td><p class="text-left">Multistate</p></td><td><p class="text-left">0</p></td></tr><tr><td id="25703994251"><p class="text-left"><span class="variable">InPrgs</span></p></td><td><p class="text-left"><span class="variable">In progress</span></p>
<p class="text-left">Power control and compensation active (stage change)</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td id="25703995787"><p class="text-left">PrPwrCap</p></td><td><p class="text-left">Present requested power capacity</p></td><td><p class="text-left">Real</p></td><td><p class="text-left">0 [kW]</p></td></tr></tbody></table><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#15586560267"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#15660774027"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16032409483"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16032407947"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16638448395"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16640566923"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16640573451"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16640720779"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16640740363"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16640746891"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#25703994251"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#25703995787"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#25703991179"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#25703992715"></a><a class="schema-iframe-link" data-node-id="25678611211" id="schema-linklist-link25678611211" href="25678611211.html#16643585675"></a></div></div></div><div class="textmodule" id="25704388107"><a class="card" href="#collapse25704388107" data-bs-toggle="collapse" data-bs-entries="">Application</a><div class="collapse" id="collapse25704388107"><div class="metalist"></div><p><strong>Sequence operation multiple energy generators </strong><br />The individual energy generators are switched on or off as per the present power demand and selected settings. <br />The following functions are available:</p><ul class="list"><li value="1">Step up/down (using the interconnected chart "Step up/down")</li><li value="2">Power control and compensation (using the interconnected chart "Power control and compensation balance")</li><li value="3">Profile table (implemented with SELP8_MS)</li><li value="4">Energy generator 1..x </li></ul></div></div><div class="image"></div><div class="image"></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>