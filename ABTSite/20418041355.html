<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="20418041355" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="[PwrCtlCmp21] Power control and compensation, step function" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="23999367307" /><meta name="next" content="20278603787" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>[PwrCtlCmp21] Power control and compensation, step function</title></head><body class="schema-index content-container container" id="20418041355" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="20418041355" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649105803">Desigo Primary Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="15246172939">Programming library</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="14872378507">Program blocks</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="20617025163">Universal functions</a></li><li class="breadcrumb-item active">[PwrCtlCmp21] Power control and compensation, step function</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-20418041355"><h1 id="heading-20418041355">[PwrCtlCmp21] Power control and compensation, step function</h1><div class="alias"></div><p><strong>Program block, name / node subtype:</strong> [<span class="variable">PwrCtlCmp21</span>] <span class="variable">Power control and compensation, step function</span></p><p><strong>Library hierarchy:</strong> <span class="variable">Universal functions</span></p><p><strong>Family:</strong> <a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html#20373238795">PwrCtlCmp</a></p><p><strong>Configurator</strong></p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/27848132107__en__Web.png" width="852" height="547" /></figure><div class="textmodule" id="27940441739"><a class="card" href="#collapse27940441739" data-bs-toggle="collapse" data-bs-entries="">Function</a><div class="collapse" id="collapse27940441739"><div class="metalist"></div><div class="textmodule" id="27375371787">
<p>Power control and compensation receives the request from "Step up/down" for more or less power as a result of the pulse "Step up" or "Step down". This directly triggers the change to the next or previous row in the profile table.</p> 
<p>Power control then checks whether the change in row in the "profile table" has resulted in the desired increase or reduction of the currently produced output. Power control receives the feedback on input [PwrCap] on the power currently produced by the heat generators and compares it to the value in internal memory [PrPwrCap].</p> 
<p>If the desired result is not obtained, power control changes the row until the desired increase or reduction of current power is reached.</p></div><div class="textmodule" id="27376947083">
<p><strong>Use of internal memory</strong></p> 
<p>The internal memory is used by "power control and compensation" to correct deviations from the planned increase or reduction.</p> 
<p>The internal memory is increased by 1 kW for "Step up". At the same time, it switches to the next row in the profile table. The power of the switched-on heat generator [PwrCap] is sent back to "power control and compensation". The current row in the profile table is retained if the power is higher than the value in memory and the value from [PwrCap] is written to the internal memory [PrPwrCap]. Conversely, if the power is still less than the value in memory, it switches to the next row in the profile table until the power is greater than the value in memory.</p> 
<p>The memory is reduced by 1 kW for "Step down". At the same time, it switches to the previous row in the profile table. The power of the switched-on heat generator [PwrCap] is sent back to "power control and compensation". The current row in the profile table is retained if the power is lower than the value in memory and the value from [PwrCap] is written to the internal memory [PrPwrCap]. Conversely, if the power is still higher than the value in memory, it is switched to the next row in the profile table until the power is less than the value in memory.</p> 
<p><strong>Detailed workflow using the example for "Step up"</strong></p> 
<p>Power control and compensation receives an impulse "Step up" on input [StepUp] from "Step up/down". Power control and compensation sends a command to the profile table to move to the next row. The stage is started for the heat generator as defined in that row.</p> 
<p>As a result, power control receives feedback on input [PwrCap] on the new, current power produced by the heat generator. It remains on this row if the value of the newly reported, currently produced power is greater than the value in memory. This is generally true as long as the heat generator is not in fault. Power control and compensation changes to the next row in the profile table if the new, currently produced power remains unchanged. The process is repeated until the reported, currently produced power is greater than the value in memory. As soon as this is the case, the reported currently produced power is stored again and displayed as the currently produced power on output [PrPwrCap].</p> 
<p>The profile table SELP_8MS can transmit the last row with a valid entry via its output [PrRowMax]. "Power control and compensation" receives this value at input [MaxPos] and determines the row to which further switching is allowed.</p> 
<p>[PwrCap] and [PrPwrCap] are compared in cycles, at a cycle time of 4 seconds.</p> 
<p>[PrPwrCap] in the internal program logic is increased by 1 kW for an impulse "Step up".</p> 
<p>The logic requires more power due to the resulting imbalance between [PwrCap] and [PrPwrCap]. At a cycle time of 4 seconds, it sends a "Step up" impulse until [PwrCap] is greater than [PrPwrCap].</p> 
<p>The system is balanced again and [PwrCap] is written to the internal memory as [PrPwrCap].</p> 
<p><strong>Auxiliary functions</strong></p> 
<p>The following auxiliary functions can be enabled or disabled:</p> 
<ul class="list"><li value="1">Request for target power: An impulse on input [SetTgtPwr] deploys the function to the power specified on input [TgtPwr]. The power on [TgtPwr] is stored and steps are initiated in the profile table until the value on [PwrCap] is greater than or equal to.</li><li value="2">Forced compensation: A pulse on input [TrgCmp] restores the original power on [PrPwrCap] in sequential steps, for example, due to a loss of a heat generator caused by a fault and if no [EnCmpPwrShrtg] was enabled.</li><li value="3">Automatic power compensation in the event of a power shortage [EnCmpPwrShrtg]: Power shortage is detected based on input [PwrCap] and balanced by sequential steps, e.g., due to a loss of a heat generator caused by a fault.</li><li value="4">Automatic power compensation in the event of a power excess [EnCmpPwrExcs]: Power gain is detected based on input [PwrCap] and balanced by sequential steps, e.g., due to manually switching on a heat generator.</li></ul></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20418041355" id="schema-linklist-link20418041355" href="20418041355.html#27375371787"></a><a class="schema-iframe-link" data-node-id="20418041355" id="schema-linklist-link20418041355" href="20418041355.html#27376947083"></a></div></div></div><div class="image"></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>