<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="15977061387" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="[SplyHw21] Supply chain hot water, data exchange with rooms (TRA integration), via grouping mechanism" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="25587347211" /><meta name="next" content="15977063307" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>[SplyHw21] Supply chain hot water, data exchange with rooms (TRA integration), via grouping mechanism</title></head><body class="schema-index content-container container" id="15977061387" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="15977061387" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649105803">Desigo Primary Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="15246172939">Programming library</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="14872378507">Program blocks</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="20617013387">Coordination</a></li><li class="breadcrumb-item active">[SplyHw21] Supply chain hot water, data exchange with rooms (TRA integration), via grouping mechanism</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-15977061387"><h1 id="heading-15977061387">[SplyHw21] Supply chain hot water, data exchange with rooms (TRA integration), via grouping mechanism</h1><div class="alias"></div><p><strong>Program block, name / node subtype:</strong> [<span class="variable">SplyHw21</span>] <span class="variable">Supply chain hot water, data exchange with rooms (TRA integration), via grouping mechanism</span></p><p><strong>Library hierarchy:</strong> <span class="variable">Coordination</span></p><p><strong>Family:</strong> <a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html#23212144395">SplyHw</a></p><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0EZ2HU"><colgroup><col style="width: 35%;"></col><col style="width: 65%;"></col></colgroup><thead><tr><th><p class="text-left">Project tree</p></th><th><p class="text-left">Diagram</p></th></tr></thead><tbody><tr><td> 
<p class="text-left"><img style="vertical-align: baseline;" src="../Images/png/9007221048390795__en__Web.png" /></p></td><td><p class="text-left"><img style="vertical-align: baseline;" src="../Images/png/21792428811__Web.png" /></p></td></tr></tbody></table><p><strong>Configurator</strong></p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/28283371275__en__Web.png" width="853" height="548" /></figure><div class="textmodule" id="23093374859">
<section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">Program blocks are stored in the library without I/Os. Use the <a class="schema-iframe-link" data-node-id="22334247179" id="schema-linklist-link22334247179" href="22334247179.html">auto-create and auto-connect</a> functions to create I/Os and/or to connect them to the interface blocks, e.g., R_A, CMD_B. Alternatively, take the I/Os from the folder containing the predefined I/Os in the library and/or from the plant and connect them to the interface blocks.</p></div></div></section><div class="linklist"><a class="schema-iframe-link" data-node-id="22334247179" id="schema-linklist-link22334247179" href="22334247179.html"></a></div></div><div class="textmodule" id="27946395915"><a class="card" href="#collapse27946395915" data-bs-toggle="collapse" data-bs-entries="">Function</a><div class="collapse" id="collapse27946395915"><div class="metalist"></div><p>SplyHw21 collects and analyzes hot water demand data from room automation area consumers through a group mechanism for use by the heating plant, and distributes the heating plant data back to the area consumers.</p><p>SplyHw21 can be connected to the heating plant either directly or via an intermediary coordinator (SplyHw23).</p><p>The most important functions in the program block are:</p><ul class="list"><li value="1">Heating demand collection and evaluation</li><li value="2">Hot water temperature setpoint calculation and its correction based on valve position evaluation of the consumers</li><li value="3">Heating lockout (limit) based on outside air temperature</li><li value="4">Central valve override and valve kick</li></ul><div class="linklist"></div></div></div><div class="textmodule" id="21761635723"><a class="card" href="#collapse21761635723" data-bs-toggle="collapse" data-bs-entries="">Mandatory elements</a><div class="collapse" id="collapse21761635723"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0E3EIU"><colgroup><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col></colgroup><thead><tr><th><p class="text-left">Name</p></th><th><p class="text-left">Description</p></th><th colspan="2"><p class="text-left">Type</p></th><th><p class="text-left">Alarm / Notification class</p></th><th><p class="text-left">Trend / Type</p></th></tr></thead><tbody><tr><td><p class="text-left"><span class="variable">SpHReq</span></p></td><td><p class="text-left"><span class="variable">Setpoint for heating request</span></p></td><td colspan="2"><p class="text-left"><span class="variable">ACalcVal</span>: <span class="variable">Analog calculated value</span></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">HReq</span></p></td><td><p class="text-left"><span class="variable">Heating request</span></p></td><td colspan="2"><p class="text-left"><span class="variable">BCalcVal</span>: <span class="variable">Binary calculated value</span></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">SplyHwMst</span></p></td><td><p class="text-left"><span class="variable">Manager for supply chain hot water</span></p></td><td colspan="2"><p class="text-left">GrpMaster: Group manager</p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr></tbody></table><div class="textmodule" id="20313090571">
<p><strong>See also</strong></p> 
<ul class="list"><li value="1"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html">Predefined I/Os</a></li><li value="2"><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html">Trend types</a></li><li value="3"><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html">Module families</a></li></ul><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div><div class="linklist"><a class="schema-iframe-link" data-node-id="15977061387" id="schema-linklist-link15977061387" href="15977061387.html#20313090571"></a></div></div></div><div class="textmodule" id="21761660939"><a class="card" href="#collapse21761660939" data-bs-toggle="collapse" data-bs-entries="">Optional elements</a><div class="collapse" id="collapse21761660939"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0ELOIU"><colgroup><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col></colgroup><thead><tr><th><p class="text-left">Name</p></th><th><p class="text-left">Description</p></th><th colspan="2"><p class="text-left">Type</p></th><th><p class="text-left">Alarm / Notification class</p></th><th><p class="text-left">Trend / Type</p></th></tr></thead><tbody><tr><td><p class="text-left"><span class="variable">SpHReqMin</span></p></td><td><p class="text-left"><span class="variable">Minimum setpoint heating request</span></p></td><td colspan="2"><p class="text-left"><span class="variable">ACnfVal</span>: <span class="variable">Analog configuration value</span></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">Hcrv</span></p></td><td><p class="text-left"><span class="variable">Heating curve</span></p></td><td colspan="2"><p class="text-left"><a class="schema-iframe-link" data-node-id="20278491275" id="schema-linklist-link20278491275" href="20278491275.html">[Hcrv21] Heating curve, flow temperature setpoint calculation, with HCRV</a></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr></tbody></table><div class="textmodule" id="20313090571">
<p><strong>See also</strong></p> 
<ul class="list"><li value="1"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html">Predefined I/Os</a></li><li value="2"><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html">Trend types</a></li><li value="3"><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html">Module families</a></li></ul><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div><div class="linklist"><a class="schema-iframe-link" data-node-id="15977061387" id="schema-linklist-link15977061387" href="15977061387.html#20313090571"></a><a class="schema-iframe-link" data-node-id="20278491275" id="schema-linklist-link20278491275" href="20278491275.html"></a></div></div></div><div class="textmodule" id="21762909963"><a class="card" href="#collapse21762909963" data-bs-toggle="collapse" data-bs-entries="">Further options</a><div class="collapse" id="collapse21762909963"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0EZXIU"><colgroup><col style="width: 100%;"></col></colgroup><thead><tr><th><p class="text-left">Description</p></th></tr></thead><tbody><tr><td>
<p class="text-left">Setpoint correction for flow temperature based on valve position evaluation</p>
<p class="text-left">Elements that belong to this option:</p>
<p class="text-left"><span class="variable">Setpoint correction for lower flow temperature</span> | <span class="variable">ACnfVal</span>: <span class="variable">Analog configuration value</span></p>
<p class="text-left"><span class="variable">Setpoint correction for higher flow temperature</span> | <span class="variable">ACnfVal</span>: <span class="variable">Analog configuration value</span></p></td></tr><tr><td><p class="text-left">Heating limit determination according to outside air temperature</p>
<p class="text-left">Element that belongs to this option:</p>
<p class="text-left"><span class="variable">Heating limit</span> | <span class="variable">ACnfVal</span>: <span class="variable">Analog configuration value</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Central valve override</span></p>
<p class="text-left">Elements that belong to this option:</p>
<p class="text-left"><span class="variable">Enable valve position overridden value</span> | <span class="variable">BCnfVal</span>: <span class="variable">Binary configuration value</span></p>
<p class="text-left"><span class="variable">Valve position overridden value</span> | <span class="variable">ACnfVal</span>: <span class="variable">Analog configuration value</span></p></td></tr><tr><td><p class="text-left"><span class="variable">Kick function</span></p></td></tr></tbody></table><div class="linklist"></div></div></div><div class="textmodule" id="21763115275"><a class="card" href="#collapse21763115275" data-bs-toggle="collapse" data-bs-entries="">Further information</a><div class="collapse" id="collapse21763115275"><div class="metalist"></div><p><strong>Heating demand collection and evaluation</strong></p><p>The hot water demand signal collected from area consumers is multi-state with the following enumeration:</p><ul class="list"><li value="1">Off: Area is not using or requesting hot water.</li><li value="2">HeatDmd: Area is using or requesting hot water to meet heating demand.</li><li value="3">Warm up: Area is using or requesting hot water to meet warm-up demand.</li></ul><p>SplyHw21 evaluates the data received and calculates the two binary output pin signals [HReq] and [WarmUpReq] for communication with the plant.</p><p><strong>Hot water temperature setpoint calculation and its correction based on valve position evaluation of the consumers</strong></p><p>SplyHw21 collects valve position values from room automation area consumers via group data exchange, and calculates a representative valve position percent value [HwVlvPosEvl]. [HwVlvPosEvl] is the average of valve positions that:</p><ul class="list"><li value="1">Are ≥ 10 %</li><li value="2">Have no disturbances</li><li value="3">Are from area consumers with an active hot water demand signal</li></ul><p>A linear function (configurable) uses [HwVlvPosEvl] to calculate a hot water supply temperature setpoint correction value between SpCorrTFlHi and SpCorrTFlLo:</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/16287527563__Web.png" width="245" height="168" /></figure><p><strong>Key</strong></p><table class="table tabletype-noframe table-scaled" aria-label="" data-legend-id="ID0EM3IU"><colgroup><col style="width: 2.50cm;"></col><col style="width: 15.0cm;"></col></colgroup><tbody><tr><td><p class="text-left"><span class="variable">SpCorrTFlHi</span></p></td><td><p class="text-left"><span class="variable">Setpoint correction for higher flow temperature</span></p></td></tr><tr><td><p class="text-left"><span class="variable">SpCorrTFlLo</span></p></td><td><p class="text-left"><span class="variable">Setpoint correction for lower flow temperature</span></p></td></tr><tr><td><p class="text-left"><span class="variable">HwVlvPosEvl</span></p></td><td><p class="text-left"><span class="variable">Supply chain hot water valve position evaluation</span></p></td></tr></tbody></table><p>The calculated setpoint correction value is added to the base setpoint (the base setpoint is calculated by applying a heating curve (see figure) based on outside air temperature [TOa]). The result is the hot water heating request setpoint value [SpHReq] (chart output pin).</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/16298577035__Web.png" width="245" height="173" /></figure><p><strong>Key</strong></p><table class="table tabletype-noframe table-scaled" aria-label="" data-legend-id="ID0EM3IU"><colgroup><col style="width: 2.50cm;"></col><col style="width: 15.0cm;"></col></colgroup><tbody><tr><td><p class="text-left"><span class="variable">SpTFlDs</span></p></td><td><p class="text-left"><span class="variable">Flow temperature setpoint for design outside temperature</span></p></td></tr><tr><td><p class="text-left"><span class="variable">SpTFlHi</span></p></td><td><p class="text-left"><span class="variable">Flow temperature setpoint for high outside temperature</span></p></td></tr><tr><td><p class="text-left"><span class="variable">TOaDsgn</span></p></td><td><p class="text-left"><span class="variable">Design outside temperature</span></p></td></tr><tr><td><p class="text-left"><span class="variable">TOaHi</span></p></td><td><p class="text-left"><span class="variable">Outside temperature high</span></p></td></tr></tbody></table><p>The suggested setpoint value [SpHReq] can be delivered to the heating plant or other coordinator(s) (SplyHw23). The heating plant program, which may receive additional input from other coordinators, determines the actual setpoint value.</p><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">If a central valve override is active, SplyHw21 stops using area valve positions to calculate the setpoint. In this case, SplyHw21 delivers the previous setpoint value. When the override is no longer active, the normal process for setpoint calculation resumes.</p></div></div></section><p><strong>Heating lockout (limit) based on outside air temperature</strong></p><p>Hot water use in consumers is blocked if the outside air temperature is above a configured setting, HtgLm. By default, device modes of hot water consumers (radiant ceiling or heating coil) are set to 'Off' by a multistate Group Write with priority 9, if the outside air temperature goes above 16°C. However, in 2- or 4-pipe systems, the destination is the 'hot water available' BACnet object (xxHwAvl) commanded by a binary Group Write with priority 9. This disables heating and allows cooling to remain enabled.</p><p>Logic comparing [TOa] to the lockout parameters is local to the function in SplyHw21. A hysteresis (1K by default) prevents frequent switching of the lockout function, and a filter with a configurable time constant is also used. Both the filter and the hysteresis are editable in the chart.</p><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">With 2- or 4-pipe systems, the heating limit (HtgLm) for SplyHw21 must be equal or less than the cooling limit (CLm) for SplyChw21. Otherwise, there may be times between heating and cooling seasons when consumer device modes are set to 'Off' unintentionally.</p></div></div></section><p><strong>Central valve override</strong></p><p>Distribute a signal to manually command all room automation area hot water consumer valves with priority 8. BACnet objects are provided for enabling the command (EnVlvPosOvrr) and setting the valve position to be commanded (VlvPosOvrr).</p><p><strong>Valve kick</strong></p><p>To prevent actuators from getting stuck due to prolonged periods of inactivity, SplyHw21 commands the valves for hot water consumers briefly and periodically with priority 10.</p><div class="image"></div><div class="image"></div><div class="linklist"></div></div></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>