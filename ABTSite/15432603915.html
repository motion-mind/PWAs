<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="15432603915" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="[W_TI] Write time" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="15427433739" /><meta name="next" content="15433005451" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>[W_TI] Write time</title></head><body class="schema-index content-container container" id="15432603915" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="15432603915" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649105803">Desigo Primary Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="15246172939">Programming library</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="14096341515">Function blocks</a></li><li class="breadcrumb-item active">[W_TI] Write time</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-15432603915"><h1 id="heading-15432603915">[W_TI] Write time</h1><div class="alias"></div><div class="textmodule" id="15432980491"><div class="metalist"></div>

<p>Function block W_TI converts a value with unit Time to a Double Integer and updates properties 'Present value' and 'Reliability' for a calculated value object with the present value of type Double Integer.</p></div><div class="textmodule" id="15432985483"><div class="metalist"></div>
<p>W_TI converts a value with unit Time to a Double Integer and updates properties 'Present value' and 'Reliability' for a calculated value object with the present value of type Double Integer.</p> 
<p>W_TI converts the value for time to a unit that is sent in property 'Units'.</p> 
<p>W_TI can process the following units:</p> 
<ul class="list"><li value="1">Milliseconds</li><li value="2">Hundredths of a second</li><li value="3">seconds</li><li value="4">Minutes</li><li value="5">Hours</li><li value="6">Days</li><li value="7">Weekly</li><li value="8">No units</li></ul> 
<p>If the property 'Units' is set to a value that is different from the listed units, the present value is ignored and the output disturbance is set to 1. The present value is assumed to be milliseconds if the property 'Unit' is set no unit.</p> 
<section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">The units month and years are not supported since the present value 1 already exceeds the maximum value of the S7 data type Time.</p></div></div></section></div><div class="textmodule" id="15432990475"><a class="card" href="#collapse15432990475" data-bs-toggle="collapse" data-bs-entries="">Functioning</a><div class="collapse" id="collapse15432990475"><div class="metalist"></div><p><strong>Compatible data points:</strong></p><ul class="list"><li value="1">Integer calculated value [ICalcVal]</li></ul><p><strong>Required properties:</strong></p><ul class="list"><li value="1">Present value</li><li value="2">Tracking value</li><li value="3">Status flag</li><li value="4">Reliability</li><li value="5">Unit</li></ul></div></div><div class="textmodule" id="15432995467"><a class="card" href="#collapse15432995467" data-bs-toggle="collapse" data-bs-entries="">Pins</a><div class="collapse" id="collapse15432995467"><div class="metalist"></div><table class="table tabletype-header table-fixed" id="9007214841301259" aria-label="" data-legend-id="ID0EVZKGB"><colgroup><col style="width: 17.4%;"></col><col style="width: 52.1%;"></col><col style="width: 12.4%;"></col><col style="width: 17.9%;"></col></colgroup><thead><tr><th><p class="text-left">Input</p></th><th><p class="text-left">Description</p></th><th><p class="text-left">Data type</p></th><th><p class="text-left">Default value<br />Value range</p></th></tr></thead><tbody><tr><td id="16147794315"><p class="text-left"><span class="variable">EnWrit</span></p></td><td><p class="text-left"><span class="variable">Enable write</span></p><p class="text-left">If [EnWrit] = 1, writing values from inputs [Val] and [SetValid] to the BACnet object is enabled.<br />If [EnWrit] changes from 0 to 1, writing occurs.</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">1</p></td></tr><tr><td id="16274527371"><p class="text-left"><span class="variable">Val</span></p></td><td><p class="text-left"><span class="variable">Value</span></p><p class="text-left">Virtual value, calculated and assigned by the control program to update the present value.<br />[Val] is used to update the property 'Tracking value'; followed by the BACnet object internally updating the present value with the written tracking value.</p><p class="text-left">[Val] is written if [EnWrit] = 1 and one of the items applies:</p><ul class="list"><li value="1">[Val] changes.</li><li value="2">[SetValid] changes.</li><li value="3">[RptWrit] is 1.</li></ul></td><td><p class="text-left">Time</p></td><td><p class="text-left">0 ms</p></td></tr><tr><td id="16158820363" rowspan="2"><p class="text-left"><span class="variable">SetValid</span></p></td><td><p class="text-left"><span class="variable">Set valid value indication</span></p><p class="text-left">A value calculated and assigned by the control program that indicates whether [Val] is reliable.</p><p class="text-left">[SetValid] is mapped to an error code that updates reliability if [EnWrit] = 1 and one of the following items applies:</p><ul class="list"><li value="1">[SetValid] changes.</li><li value="2">[Val] changes.</li><li value="3">[RptWrit] is 1.</li></ul></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">1</p></td></tr><tr><td colspan="3"><p class="text-left">0 - Reliability error code 7 (unreliable - other).<br />1 - Reliability error code 0 (no fault).</p></td></tr><tr><td id="16158769547" rowspan="2"><p class="text-left"><span class="variable">RptWrit</span></p></td><td><p class="text-left"><span class="variable">Repeat write</span></p><p class="text-left">Forces writing of [Val], and [SetValid] to the data point. Write is repeated with each program cycle until [RptWrit] = 1.<br />The control program typically calculates and sets [RptWrit].</p><p class="text-left"><strong>Note: </strong><br />[RptWrit] cannot be permanently forced to 1. This may influence performance and communications  traffic.</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td colspan="3"><p class="text-left">0 - No action.<br />1 - [Val] and [Sta] are written to the data point with each programming cycle.</p></td></tr><tr><td id="15714241291">
<p class="text-left"><span class="variable">BaObjRef</span></p></td><td><p class="text-left"><span class="variable">BA-Object reference</span><br />Link between function block and BACnet object.</p></td><td><p class="text-left">Structure</p></td><td><p class="text-left">---</p></td></tr><tr><td><p class="text-left"><span class="variable">BaObjRef</span><br />&gt; <span class="variable">DeviceID</span></p></td><td><p class="text-left"><span class="variable">Device identifier</span><br />[<span class="variable">DeviceID</span>] includes object type and object instance in one ID. <br />Identifies the device object: local or remote. A local device object can also be identified by value 16#3FFFFF.</p></td><td><p class="text-left">Double Word</p></td><td><p class="text-left">16#3FFFFF</p></td></tr><tr><td><p class="text-left"><span class="variable">BaObjRef</span><br />&gt; <span class="variable">ObjectID</span></p></td><td><p class="text-left"><span class="variable">Object identifier</span><br />[<span class="variable">ObjectID</span>] includes object type and object instance in one ID.<br />Identifies the object on a device.</p></td><td><p class="text-left">Double Word</p></td><td><p class="text-left">16#3FFFFF</p></td></tr><tr><td><p class="text-left"><span class="variable">BaObjRef</span><br />&gt; <span class="variable">ItemID</span></p></td><td><p class="text-left"><span class="variable">Item identifier</span><br />[<span class="variable">ItemID</span>] represents an index in a view node object that references the BACnet object.<br />[<span class="variable">ObjectID</span>] and [<span class="variable">ItemID</span>] together define an indirect reference to the BACnet object.<br />Value -1 indicates a direct interface.</p></td><td><p class="text-left">Integer</p></td><td><p class="text-left">-1 </p></td></tr></tbody></table><p> </p><table class="table tabletype-header table-fixed" id="9007214915515019" aria-label="" data-legend-id="ID0EVZKGB"><colgroup><col style="width: 17.4%;"></col><col style="width: 52.1%;"></col><col style="width: 12.4%;"></col><col style="width: 17.9%;"></col></colgroup><thead><tr><th><p class="text-left">Output</p></th><th><p class="text-left">Description</p></th><th><p class="text-left">Data type</p></th><th><p class="text-left">Default value<br />Value range</p></th></tr></thead><tbody><tr><td id="16274673675"><p class="text-left"><span class="variable">PrVal</span></p></td><td><p class="text-left"><span class="variable">Present value</span></p><p class="text-left">Value of property 'Present value' for the referenced BACnet object. [PrVal] supplies the last valid value in the event of a fault.</p></td><td><p class="text-left">Time</p></td><td><p class="text-left">0 ms</p></td></tr><tr><td id="16585652619"><p class="text-left"><span class="variable">Dstb</span></p></td><td><p class="text-left"><span class="variable">Disturbed</span></p><p class="text-left">[Dstb] indicates whether the referenced BACnet object is in fault.</p><p class="text-left">[Dstb] = 1 if:<br />BACnet object = Error during access<br />OR<br />'Status flag' = Fault</p><p class="text-left">Otherwise [Dstb] = 0</p></td><td><p class="text-left">Boolean</p></td><td><p class="text-left">0</p></td></tr><tr><td id="16273784331"><p class="text-left"><span class="variable">Rlb</span></p></td><td><p class="text-left"><span class="variable">Reliability</span><br />Indicates the value of property 'Reliability', if the property is available.</p></td><td><p class="text-left">Integer</p></td><td><p class="text-left">0: No fault detected</p></td></tr><tr><td id="16147900555" rowspan="2"><p class="text-left"><span class="variable">ErrCode</span></p></td><td><p class="text-left"><span class="variable">Error code indication</span></p></td><td><p class="text-left">Integer</p></td><td><p class="text-left">0: <span class="variable">No error</span></p></td></tr><tr><td colspan="3"><p class="text-left">= 0 - <span class="variable">No error</span><br />&gt; 0 - <a class="schema-iframe-link" data-node-id="3072108939" id="schema-linklist-link3072108939" href="3072108939.html">XFB error codes</a></p></td></tr></tbody></table><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="3072108939" id="schema-linklist-link3072108939" href="3072108939.html"></a></div><div class="linklist"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#15586560267"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16147794315"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16274527371"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16158820363"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16158769547"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#15714241291"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#15660774027"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16274673675"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16273784331"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16147900555"></a><a class="schema-iframe-link" data-node-id="15432603915" id="schema-linklist-link15432603915" href="15432603915.html#16585652619"></a></div></div></div><div class="textmodule" id="16606161547"><a class="card" href="#collapse16606161547" data-bs-toggle="collapse" data-bs-entries="">Troubleshooting</a><div class="collapse" id="collapse16606161547"><div class="metalist"></div><p>The write function is not available if the BACnet object is on another device.</p></div></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>