<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2019 v1" /><meta name="id" content="24279938699" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="msapplication-config" content="none" /><meta name="description" content="[SttUpAlmHdl22] Startup &amp; alarm handling, acknowledge &amp; reset, I/Os, 3 priorities" /><link rel="icon" type="image/x-icon" href="../assets/ico/favicon.ico" /><link layout-comment="OpenIconic-Font" rel="stylesheet" href="../assets/css/open-iconic-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base_ltr/07-jquery.typeahead.min.css" /><link rel="stylesheet" href="../assets/css/schema-glyphs.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><link rel="stylesheet" href="../assets/css/custom.css" /><link rel="stylesheet" href="../assets/css/custom/custom_fonts.css" /><link rel="stylesheet" href="../assets/css/custom/custom_typeahead.css" /><meta name="prev" content="21260307723" /><meta name="next" content="24291565195" /><meta name="next" content="30649308811" /><script>var fileExtension = "html";</script><title>[SttUpAlmHdl22] Startup &amp; alarm handling, acknowledge &amp; reset, I/Os, 3 priorities</title></head><body class="schema-index content-container container" id="24279938699" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="24279938699" data-culture="en-US" dir="ltr"><header class="d-print-none"><nav class="d-flex" aria-label="Breadcrumb Naviagation"><ol class="breadcrumb "><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="index_content">Home</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="30649105803">Desigo Primary Automation</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="15246172939">Programming library</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="14872378507">Program blocks</a></li><li class="breadcrumb-item"><a class="schema-iframe-link schema-breadcrumb-link" href="#" data-node-id="20617023243">Universal equipment</a></li><li class="breadcrumb-item active">[SttUpAlmHdl22] Startup &amp; alarm handling, acknowledge &amp; reset, I/Os, 3 priorities</li></ol></nav></header><article class="highlightable" role="main" aria-labelledby="heading-24279938699"><h1 id="heading-24279938699">[SttUpAlmHdl22] Startup &amp; alarm handling, acknowledge &amp; reset, I/Os, 3 priorities</h1><div class="alias"></div><p><strong>Program block, name / node subtype:</strong> [<span class="variable">SttUpAlmHdl22</span>] <span class="variable">Startup &amp; alarm handling, acknowledge &amp; reset, I/Os, 3 priorities</span></p><p><strong>Library hierarchy:</strong> <span class="variable">Universal equipment</span></p><p><strong>Family:</strong> <a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html#20372933131">SttUpAlmHdl</a></p><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0ELPUX"><colgroup><col style="width: 35%;"></col><col style="width: 65%;"></col></colgroup><thead><tr><th><p class="text-left">Project tree</p></th><th><p class="text-left">Diagram</p></th></tr></thead><tbody><tr><td> 
<p class="text-left"><img style="vertical-align: baseline;" src="../Images/png/9007223534906635__en__Web.png" /></p></td><td><p class="text-left"><img style="vertical-align: baseline;" src="../Images/png/24280161675__Web.png" /></p></td></tr></tbody></table><p><strong>Configurator</strong></p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/27848135179__en__Web.png" width="855" height="550" /></figure><div class="textmodule" id="23093374859">
<section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">Program blocks are stored in the library without I/Os. Use the <a class="schema-iframe-link" data-node-id="22334247179" id="schema-linklist-link22334247179" href="22334247179.html">auto-create and auto-connect</a> functions to create I/Os and/or to connect them to the interface blocks, e.g., R_A, CMD_B. Alternatively, take the I/Os from the folder containing the predefined I/Os in the library and/or from the plant and connect them to the interface blocks.</p></div></div></section><div class="linklist"><a class="schema-iframe-link" data-node-id="22334247179" id="schema-linklist-link22334247179" href="22334247179.html"></a></div></div><div class="textmodule" id="27941467019"><a class="card" href="#collapse27941467019" data-bs-toggle="collapse" data-bs-entries="">Function</a><div class="collapse" id="collapse27941467019"><div class="metalist"></div><div class="textmodule" id="27378573067">
<p>Controls the startup behavior of the plant after power on.</p> 
<p>There is a delay, "DlySttUp", of about 50 seconds after startup. Do not change this delay. Change the delay, "DlyOn", to be different for each plant. This ensures that the plants start one after the other and do not overload the electrical system.</p> 
<p>Reads the aggregation of all faults and alarms from the plant and interprets it for the program.</p></div><div class="textmodule" id="27383000971">
<p><strong>Startup behavior</strong></p> 
<p>The following functionality is available for an automatic startup of the plant, e.g., after a loss and subsequent return of power:</p> 
<ul class="list"><li value="1">Fixed switch-on times. These can be set on input [DlySttUp]. The output [Lock] is "True" and the plant remains switched off. The plant remains off to ensure that communications are reliable and cross-check references are triggered.</li><li value="2">Automatic acknowledge (2x) of possible pending alarms during a fixed switch-on delay.</li><li value="3">Additional adjustable delay for staged plant ramp-up. This can be set on input pin [DlyOn].</li><li value="4">Output [TiLock] displays the entire period of the delay, i.e., [DlySttUp] + [DlyOn].</li><li value="5">Output [TiLockRmg] displays the remaining time until the output [Lock] is set to "False".</li></ul></div><figure class="img_original" aria-label="Fig. "><img src="../Images/png/16805264779__Web.png" width="563" height="313" /></figure><p><strong>Collection and aggregation of all faults and alarms from the plant</strong></p><p>With device version 1.5 or higher, every BACnet object of type "Structured view", e.g., plant, has new properties:</p><ul class="list"><li value="1">Aggregation Flags</li><li value="2">Last-Event-Timestamp</li><li value="3">Acknowledged Transitions</li><li value="4">Event-Notification-Inhibit-Command</li></ul><p>All alarms, faults, and manual interventions (out of service, overridden, commanded) are collected and displayed at these new properties. The information for the filter level for the notification class objects is considered and the alarms and faults are displayed in groups in the "Aggregation Flags" for the corresponding filter level (High, Medium, or Low).</p><p>SttUpAlmHdl22 contains a function block CMN_STA that connects to the structured view object (most likely a plant) and reads "Aggregation Flags" and "Last-Event-Timestamp" to represent the number of alarms, faults, and manual interventions at its outputs, and writes to "Acknowledged Transitions" and "Event-Notification-Inhibit-Command" to acknowledge (and reset) the alarms and faults belonging to this structured view or to suppress the event notification of the objects belonging to this structured view.</p><p>Principle:</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/27383004427__Web.png" width="4336" height="2466" /></figure><p><strong>Key</strong></p><table class="table tabletype-noframe table-fixed" aria-label="" data-legend-id="ID0ESWUX"><colgroup><col style="width: 20%;"></col><col style="width: 80%;"></col></colgroup><tbody><tr><td><p class="text-left">NCx</p></td><td><p class="text-left">Notification class</p></td></tr><tr><td><p class="text-left">H</p></td><td><p class="text-left">Filter level: High</p></td></tr><tr><td><p class="text-left">M</p></td><td><p class="text-left">Filter level: Medium</p></td></tr></tbody></table><p>Details of the properties of the structured view objects and inputs and outputs of CMN_STA:</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/27383004939__Web.png" width="2630" height="1870" /></figure><p>Connection between the structured view object and CMN_STA:</p><figure class="img_original" aria-label="Fig. "><img src="../Images/png/27383005451__Web.png" width="3719" height="2241" /></figure><section class="safety safety-type-info safety-severity-info" aria-label="    Information"><div class="safety-body row"><div class="safety-symbol" aria-label="aria.safetySymbol"><img src="../safety/info_Info.gif" alt="info" /></div><div class="safety-content" aria-label="description"><p class="safety-consequence" aria-label="Consequences">The "State aggregation" node represents the structured view object "Plant(1)". You can drag the node onto CMN_STA. When "Plant(1)" is connected to CMN_STA, the node changes its color from white to gray.</p></div></div></section><div class="textmodule" id="27216919179">
<p>This program block has the following optional functions:</p></div><div class="textmodule" id="27389932555">
<p><strong>Option: Event lamp control (2xBO)</strong></p> 
<p>Controls one or two alarm lamps (EvtLmpCtl22). The behavior of the lamps (blinking, steady, or off) provides information about the aggregated alarms and faults and their states.</p><div class="linklist"></div></div><div class="textmodule" id="27389930507">
<p><strong>Option: Event and acknowledge interface</strong></p> 
<p>Provides information about the aggregated alarms, faults, manual interventions and their states in the form of a double integer value object. This value represents the 0 or 1 states of the output pins of CMN_STA that are converted to a double integer value.</p> 
<p>It can receive and send acknowledgement signals.</p></div><div class="textmodule" id="27389926667">
<p><strong>Option: Acknowledgement</strong></p> 
<p>A software button for acknowledgement for all objects that belong to this structured view.</p></div><div class="textmodule" id="27389933451">
<p><strong>Option: Acknowledgement button (1xBI)</strong></p> 
<p>Reads the signal from a button for acknowledgement for all objects that belong to this structured view.</p></div><div class="textmodule" id="27389927563">
<p><strong>Option: Manual intervention active</strong></p> 
<p>Interprets some of the pins of CMN_STA and generates an alarm in case of manual intervention (out of service, overridden, or commanded) on one or more objects belonging to this structured view.</p></div><div class="textmodule" id="27389934347">
<p><strong>Option: Manual intervention active lamp (1xBO)</strong></p> 
<p>Turns on a lamp, e.g., with orange color, in case of manual intervention (out of service, overridden, or commanded) on one or more objects belonging to this structured view.</p></div><div class="textmodule" id="27389935243">
<p><strong>Option: Reset command (1xBO)</strong></p> 
<p>Turns on a binary output for hardware reset.</p></div><div class="textmodule" id="24280334347">
<p><strong>SttUpAlmHdl22 and its subsets</strong></p> 
<p>SttUpAlmHdl22 is not used in any base solution in the library. SttUpAlmHdl22 has three program block subsets that are optimized for different uses.</p> 
<p>If you need to extend a subset, e.g., own acknowledge button and alarm lamp(s) for a plant, select SttUpAlmHdl22 with the "Function configurator" and configure it for the required functionality.</p> 
<p>The following diagram shows SttUpAlmHdl22 and its subsets: SttUpAlmHdl22a, SttUpAlmHdl22b, SttUpAlmHdl22c.</p> 
<figure class="img_original" aria-label="Fig. "><img src="../Images/png/24280302475__Web.png" width="2369" height="795" /></figure> 
<p>SttUpAlmHdl22a is optimized for use in <a class="schema-iframe-link" data-node-id="13850962443" id="schema-linklist-link13850962443" href="13850962443.html">plants</a>.</p> 
<p>SttUpAlmHdl22b is optimized for use in the plant <a class="schema-iframe-link" data-node-id="21269784715" id="schema-linklist-link21269784715" href="21269784715.html">SysFnctAS21x</a>.</p> 
<p>SttUpAlmHdl22c is optimized for use in the plant <a class="schema-iframe-link" data-node-id="20283819787" id="schema-linklist-link20283819787" href="20283819787.html">ElPnl21x</a>.</p><div class="image"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="13850962443" id="schema-linklist-link13850962443" href="13850962443.html"></a><a class="schema-iframe-link" data-node-id="21269784715" id="schema-linklist-link21269784715" href="21269784715.html"></a><a class="schema-iframe-link" data-node-id="20283819787" id="schema-linklist-link20283819787" href="20283819787.html"></a></div></div><div class="textmodule" id="24290988683"> 
<p><strong>Example of an electrical cabinet with two automation stations</strong></p>
<div class="textmodule" id="24280472843">
<p>Events are collected at device level with SttUpAlmHdl22b (with CMN_STA connected to AS_VIEW) in the plant SysFnctAs21x and forwarded (via EvtItfOut) to EvtAckCoord22 in the plant ElPnl21x. From there they are transferred to SttUpAlmHdl22c which contains the lamps.</p> 
<p>The acknowledge button in SttUpAlmHdl22c is transferred to AckItfOut in EvtAckCoord22 and from there it is read by AckItfIn in SttUpAlmHdl22b in the plant SysFnctAS21x and transferred to AS_VIEW via CMN_STA.</p></div> 
<p><img style="vertical-align: baseline;" src="../Images/png/24280697995__Web.png" /></p><div class="image"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#24280472843"></a></div></div><div class="linklist"></div><div class="image"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="13850962443" id="schema-linklist-link13850962443" href="13850962443.html"></a><a class="schema-iframe-link" data-node-id="21269784715" id="schema-linklist-link21269784715" href="21269784715.html"></a><a class="schema-iframe-link" data-node-id="20283819787" id="schema-linklist-link20283819787" href="20283819787.html"></a></div><div class="image"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#24280472843"></a></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="linklist"><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27378573067"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27383000971"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27216919179"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27389932555"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27389930507"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27389926667"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27389933451"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27389927563"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27389934347"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#27389935243"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#24280334347"></a><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#24290988683"></a></div></div></div><div class="textmodule" id="24280077579"><a class="card" href="#collapse24280077579" data-bs-toggle="collapse" data-bs-entries="">Optional elements</a><div class="collapse" id="collapse24280077579"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0EC2VX"><colgroup><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col><col style="width: 16.66%;"></col></colgroup><thead><tr><th><p class="text-left">Name</p></th><th><p class="text-left">Description</p></th><th colspan="2"><p class="text-left">Type</p></th><th><p class="text-left">Alarm / Notification class</p></th><th><p class="text-left">Trend / Type</p></th></tr></thead><tbody><tr><td><p class="text-left"><span class="variable">EvtLmpCtl</span></p></td><td><p class="text-left"><span class="variable">Event lamp control</span></p></td><td colspan="2"><p class="text-left"><a class="schema-iframe-link" data-node-id="24271255051" id="schema-linklist-link24271255051" href="24271255051.html">[EvtLmpCtl22] Event lamp control 22 with 3 priorities</a></p></td><td><p class="text-left">N/A</p></td><td><p class="text-left">N/A</p></td></tr><tr><td><p class="text-left"><span class="variable">Ack</span></p></td><td><p class="text-left"><span class="variable">Acknowledgement</span></p></td><td colspan="2"><p class="text-left"><span class="variable">BCnfVal</span>: <span class="variable">Binary configuration value</span></p></td><td><p class="text-left">No</p></td><td><p class="text-left">No</p></td></tr><tr><td><p class="text-left"><span class="variable">AckBtn</span></p></td><td><p class="text-left"><span class="variable">Acknowledgement button</span></p></td><td colspan="2"><p class="text-left">BI: Binary input</p></td><td><p class="text-left">No</p></td><td><p class="text-left">Yes, 4</p></td></tr><tr><td><p class="text-left"><span class="variable">ResetCmd</span></p></td><td><p class="text-left"><span class="variable">Reset command</span></p></td><td colspan="2"><p class="text-left">BO: Binary output</p></td><td><p class="text-left">No</p></td><td><p class="text-left">Yes, 4</p></td></tr><tr><td><p class="text-left"><span class="variable">ManIntvActv</span></p></td><td><p class="text-left"><span class="variable">Manual intervention active</span></p></td><td colspan="2"><p class="text-left"><span class="variable">BCalcVal</span>: <span class="variable">Binary calculated value</span></p></td><td><p class="text-left">Yes, 8</p></td><td><p class="text-left">No</p></td></tr><tr><td><p class="text-left"><span class="variable">ManIntvLmp</span></p></td><td><p class="text-left"><span class="variable">Manual intervention active lamp</span></p></td><td colspan="2"><p class="text-left">BO: Binary output</p></td><td><p class="text-left">No</p></td><td><p class="text-left">No</p></td></tr></tbody></table><div class="textmodule" id="20313090571">
<p><strong>See also</strong></p> 
<ul class="list"><li value="1"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html">Predefined I/Os</a></li><li value="2"><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html">Trend types</a></li><li value="3"><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html">Module families</a></li></ul><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div></div><div class="linklist"><a class="schema-iframe-link" data-node-id="20134491147" id="schema-linklist-link20134491147" href="20134491147.html"></a><a class="schema-iframe-link" data-node-id="20310673035" id="schema-linklist-link20310673035" href="20310673035.html"></a><a class="schema-iframe-link" data-node-id="20294426635" id="schema-linklist-link20294426635" href="20294426635.html"></a></div><div class="linklist"><a class="schema-iframe-link" data-node-id="24279938699" id="schema-linklist-link24279938699" href="24279938699.html#20313090571"></a><a class="schema-iframe-link" data-node-id="24271255051" id="schema-linklist-link24271255051" href="24271255051.html"></a></div></div></div><div class="textmodule" id="24280132875"><a class="card" href="#collapse24280132875" data-bs-toggle="collapse" data-bs-entries="">Further options</a><div class="collapse" id="collapse24280132875"><div class="metalist"></div><table class="table tabletype-header table-fixed" aria-label="" data-legend-id="ID0EAHWX"><colgroup><col style="width: 100%;"></col></colgroup><thead><tr><th><p class="text-left">Description</p></th></tr></thead><tbody><tr><td>
<p class="text-left"><span class="variable">Event and acknowledge interface</span></p>
<p class="text-left">Elements that belong to this option:</p>
<p class="text-left"><span class="variable">Acknowledge interface input</span></p>
<p class="text-left"><span class="variable">EvtItfOut</span> | <span class="variable">Event interface output</span> | <span class="variable">ICalcVal</span>: <span class="variable">Integer calculated value</span></p>
<p class="text-left"><span class="variable">AckItfOut</span> | <span class="variable">Acknowledge interface output</span> | <span class="variable">BCalcVal</span>: <span class="variable">Binary calculated value</span></p></td></tr></tbody></table><div class="linklist"></div></div></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div><div class="image"></div></article><footer><p class="text-muted">ABT Site V6.0
</p><p class="text-muted" aria-label="copyright">© 2014 - 2025 Siemens Schweiz AG</p></footer><script src="../assets/js/00-jquery-3.6.3.min.js"></script><script src="../assets/js/01-popper.min.js"></script><script src="../assets/js/02-schema.js"></script><script src="../assets/js/03-snap.svg-min.js"></script><script src="../assets/js/04-schema-common-search.js"></script><script src="../assets/js/05-svg-highlight.js"></script><script src="../assets/js/22-highlight-function.js"></script><script src="../assets/js/23-jquery-typeahead.min.js"></script><script src="../assets/js/24-autocompletion.js"></script><script src="../assets/js/25-collapsible.js"></script><script src="../assets/js/32-highlight-results.js"></script><script src="../assets/js/50-show-highlight-results.js"></script><script src="../assets/js_ltr/06-bootstrap.min.js"></script><script src="../assets/js_iframe/00-schema-iframe.js"></script></body></html>